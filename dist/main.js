(()=>{"use strict";function e(e){let t;if(e.startsWith("#"))t={r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)};else if(e.startsWith("rgb(")){let n=e.substring(4,e.length-1).split(",");t={r:parseInt(n[0],10),g:parseInt(n[1],10),b:parseInt(n[2],10)}}let n=Math.round((299*t.r+587*t.g+114*t.b)/1e3);return console.log(n),n<170}function t(e){const t=new Date(e),n=t.getTimezoneOffset();return t.setMinutes(t.getMinutes()+n),`${String(t.getMonth()+1).padStart(2,"0")}/${String(t.getDate()).padStart(2,"0")}/${t.getFullYear()}`}function n(e){pageTitle.textContent=e.textContent;let t=window.getComputedStyle(e),n=t.backgroundColor,o=t.color;pageTitle.style.backgroundColor=n,pageTitle.style.color=o,pageTitle.dataset.catId=e.dataset.catId}function o(e,n){document.querySelectorAll(".taskContainerDiv").forEach((o=>{const l=function(e){for(const t of U){const n=t.tasks.find((t=>t.id==e));if(n)return n}return null}(o.querySelector(".taskDiv").dataset.taskId),a=new Date(t(l.dueDate));a.setHours(0,0,0,0);const s=l.category;!(null===e||a<=e)||"All Inbox"!==n&&s.name!==n?o.style.display="none":o.style.display="block"}))}function l(e){const t=[];function n(e){switch(e){case"./images/warning-333.png":return 1;case"./images/warning-222.png":return 2;case"./images/warning-111.png":return 3;case"./images/warning_grey.png":return 4;default:return 0}}document.querySelectorAll(".taskContainerDiv").forEach((e=>{const n=e.querySelector(".taskDiv");n&&(function(e){const t=e.querySelector(".taskDueDate").innerHTML,n=e.querySelector(".taskPriority").innerHTML;e.taskData={taskDueDate:t,taskPriority:n}}(n),t.push(n),console.log(n))})),console.log(t),"date"===e?(console.log("date clicked"),t.sort(((e,t)=>new Date(e.taskData.taskDueDate)-new Date(t.taskData.taskDueDate)))):"priority"===e&&(console.log("priority clicked"),t.sort(((e,t)=>n(e.taskData.taskPriority)-n(t.taskData.taskPriority))))}const a=document.querySelector(".content"),s=document.querySelector("nav"),i=document.querySelector("#modal"),d=document.querySelector("#catModal"),c=document.querySelector(".tasksContainer"),r=document.getElementById("collapseBtn"),u=document.querySelector(".sortOptions"),m=document.getElementById("sortBtn"),g=document.getElementById("dateBtn"),y=document.getElementById("importanceBtn"),p=document.getElementById("createTask"),k=document.getElementById("okTaskBtn"),v=document.getElementById("cancelTaskBtn"),f=document.getElementById("delete"),E=document.getElementById("newCatBtn"),I=document.getElementById("okCatBtn"),h=document.getElementById("cancelCatBtn"),C=(document.getElementById("All Inbox"),document.getElementById("Responsibilities"),document.getElementById("Events & Social"),document.getElementById("Programming Course"),document.getElementById("colorPicker")),B=document.getElementById("colorDisplay"),L=document.getElementById("allBtn"),D=document.getElementById("todayBtn"),b=document.getElementById("thisWeekBtn"),w=document.getElementById("thisMonthBtn"),x=document.getElementById("pageTimeline");let S=document.getElementsByClassName("close")[0],T=document.getElementsByClassName("closeCatModal")[0],q=document.querySelector("form"),M=document.getElementById("pageTitle"),P=document.getElementById("title"),A=document.getElementById("category"),F=document.getElementById("dueDate"),H=document.getElementById("priority"),N=document.getElementById("description"),$=document.querySelectorAll(".catBtns"),z=document.querySelectorAll(".timelineBtns"),W="All Inbox",R=document.getElementById(W),_=null,O=document.getElementById("allBtn");const Y=function(){const e=new Date;return e.setHours(0,0,0,0),e}();function V(e){return $.forEach((e=>{e.classList.remove("selectedFilter")})),R=document.getElementById(e),R.classList.add("selectedFilter"),n(R),o(_,e),R}function j(e,t){return console.log(t),z.forEach((e=>{e.classList.remove("selectedFilter")})),n(R),o(e,W),t.classList.add("selectedFilter"),t}m.addEventListener("click",(function(){"none"===u.style.display?(u.style.display="flex",m.style.borderRadius="5px 5px 0px 0px"):(u.style.display="none",m.style.borderRadius="")})),g.addEventListener("click",(function(){l("date")})),y.addEventListener("click",(function(){l("priority")}));class G{constructor(e,t,n=null){this.name=e,this.color=t,this.tasks=[],this.catId=n||++K}addTaskToCat(e){this.tasks.push(e),e.id=Z,Z++}removeTaskFromCat(e){this.tasks=this.tasks.filter((t=>t.id!==e))}}let J,K=Math.max(...Array.from($).map((e=>parseInt(e.dataset.catId)))),Q=function(){const e=document.querySelectorAll(".categoriesDiv button");return Array.from(e).map((e=>{let t=parseInt(e.dataset.catId);return t>K&&(K=t),new G(e.textContent.trim(),null,t)}))}(),U=[...Q],X=null,Z=0;class ee{constructor(e,t,n,o,l,a){this.id=e,this.title=t,this.category=n,this.dueDate=o,this.priority=l,this.description=a,this.complete=!1}toggleComplete(){this.complete=!this.complete}}!function(){function e(e){if(!confirm("Are you sure you want to delete this task?"))return i.style.display="none",void delete P.dataset.editingTaskId;let t,n,o=document.getElementById(e);if(!o)return console.error(`No task div found with id ${e}`),void delete P.dataset.editingTaskId;for(let o of U)if(t=o.tasks.find((t=>t.id==e)),t){n=o;break}n.removeTaskFromCat(e),Z--,Z=U.reduce(((e,t)=>e+t.tasks.length),0),o.parentNode.parentNode.remove(),i.style.display="none",delete P.dataset.editingTaskId}p.addEventListener("click",(function(){P.value="",A.value=W;let e=new Date,t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),o=e.getFullYear();e=o+"-"+n+"-"+t,F.value=e,H.value="Low",N.value="",i.style.display="block"})),v.addEventListener("click",(function(e){e.preventDefault(),i.style.display="none"})),k.addEventListener("click",(function(o){if(document.querySelector("form").reportValidity()){o.preventDefault(),P.classList.remove("error");let n=document.getElementById("title").value,l=document.getElementById("category").value,a=document.getElementById("category").value,s=U.find((e=>e.name===a)),d=document.getElementById("dueDate").value,r=document.getElementById("priority").value,u=document.getElementById("description").value;P.dataset.editingTaskId?function(e,n,o,l,a){let s,d=P.dataset.editingTaskId;for(let e of U)if(s=e.tasks.find((e=>e.id==d)),s)break;if(void 0===s)return void console.error(`No task found with id ${d}`);s.title=e,s.category=n,s.dueDate=o,s.priority=l,s.description=a,console.log("editing task, title: "+e+" id: "+d);let c=document.getElementById(d);c.querySelector(".taskTitle").textContent=e,c.querySelector(".taskCategory").textContent=`(${n.name})`,c.querySelector(".taskDueDate").textContent=t(o),c.querySelector(".symbol").src="Highest"==l?"./images/warning-333.png":"High"==l?"./images/warning-222.png":"Medium"==l?"./images/warning-111.png":"./images/warning_grey.png",delete P.dataset.editingTaskId,i.style.display="none"}(n,s,d,r,u):function(n,o,l,a,s,d){let r=new ee(Z,n,l,a,s,d);Z++,l.addTaskToCat(r);let u=r.id;const m=document.createElement("div");function g(e){console.log(e),P.value=e.title,A.value=e.category.name,F.value=e.dueDate,H.value=e.priority,N.value=e.description,P.dataset.editingTaskId=e.id,i.style.display="block"}m.classList.add("taskContainerDiv"),function(n,o,l,a,s,i){const d=document.createElement("div");d.classList.add("taskBigDiv");const u=document.createElement("div");u.classList.add("taskDiv"),u.id=n,u.dataset.taskId=n,u.addEventListener("click",(function(){g(r)}));const y=document.createElement("div");y.classList.add("taskPrim"),u.appendChild(y);const p=document.createElement("input");p.type="checkbox",p.addEventListener("click",(function(e){e.stopPropagation(),this.checked?(k.classList.add("complete"),v.classList.add("complete"),E.classList.add("complete"),I.classList.add("complete")):(k.classList.remove("complete"),v.classList.remove("complete"),E.classList.remove("complete"),I.classList.remove("complete"))}));const k=document.createElement("div");k.classList.add("taskTitle"),k.textContent=o;const v=document.createElement("div");v.classList.add("taskCategory"),v.textContent="("+l+")",y.appendChild(p),y.appendChild(k),y.appendChild(v);const f=document.createElement("div");f.classList.add("taskSec"),u.appendChild(f);const E=document.createElement("div");E.classList.add("taskDueDate"),E.textContent=t(a);const I=document.createElement("div");I.classList.add("taskPriority");const h=document.createElement("img");"Highest"==i.value?h.src="./images/warning-333.png":"High"==i.value?h.src="./images/warning-222.png":"Medium"==i.value?h.src="./images/warning-111.png":h.src="./images/warning_grey.png",h.classList.add("symbol"),I.appendChild(h);const C=document.createElement("img");C.id=n,C.src="./images/delete.png",C.classList.add("symbol"),C.addEventListener("click",(function(t){t.stopPropagation();let n=C.id;n?e(n):console.log("No task is currently being edited")})),f.appendChild(E),f.appendChild(I),d.appendChild(u),d.appendChild(C);const B=document.createElement("hr");m.appendChild(d),m.appendChild(B),c.appendChild(m)}(u,n,o,a,0,H)}(n,l,s,d,r,u),i.style.display="none"}else P.classList.add("error");_=null,O=L,j(_,O),W=A.value,V(W),n(R)})),f.addEventListener("click",(function(t){t.stopPropagation();let n=P.dataset.editingTaskId;n?e(n):console.log("No task is currently being edited")})),P.addEventListener("input",(function(){this.classList.remove("error")}))}(),E.addEventListener("click",(function(){X="new",d.style.display="block",catTitle.value="",B.style.backgroundColor="#8a59b9",console.log(B.style.backgroundColor)})),I.addEventListener("click",(function(t){if(t.preventDefault(),"new"===X){let t=document.getElementById("catTitle").value,n=document.getElementById("colorPicker").value;n=B.style.backgroundColor,console.log(n);let o=new G(t,n);U.push(o);let l=document.createElement("li"),a=document.createElement("button");a.innerText=t,a.id=t,a.classList.add("catBtns"),a.style.backgroundColor=n,a.dataset.catId=o.catId,e(n)?(console.log(n),console.log("dark"),a.style.color="white"):(console.log(n),console.log("light"),a.style.color="black"),l.appendChild(a),document.getElementById("categoriesList").appendChild(l),initializeCatFilterEvListeners()}else if("edit"===X){console.log(J),"number"!=typeof J&&console.error("catId is not a number at [description of the code location]",J);let t=U.find((e=>e.catId===J));if(t){t.name=document.getElementById("catTitle").value,t.color=document.getElementById("colorPicker").value;let n=document.querySelector(`button[data-cat-id="${J}"]`);n&&(n.innerText=t.name,n.style.backgroundColor=t.color,e(t.color)?(n.style.color="white",M.style.color="white",console.log(M.style.color)):(n.style.color="black",M.style.color="black",console.log(M.style.color)))}else console.error("Could not find category with ID:",J);M.innerHTML=catTitle.value,console.log(C.value),M.style.backgroundColor=C.value}!function(){let e=document.getElementById("category");for(;e.firstChild;)e.removeChild(e.firstChild);U.forEach((t=>{let n=document.createElement("option");n.value=t.name,n.textContent=t.name,e.appendChild(n)}))}(),d.style.display="none"})),h.addEventListener("click",(function(e){e.preventDefault(),d.style.display="none"})),M.addEventListener("click",(function(){J=parseInt(this.dataset.catId),X="edit",function(e,t){let n=document.getElementById("catTitle"),o=document.getElementById("colorDisplay");n.value=e.textContent,o.style.backgroundColor=e.style.backgroundColor,d.style.display="block"}(M)})),B.addEventListener("click",(function(){let e=function(e){let t=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2)}(B.style.backgroundColor);C.value=e,C.click()})),C.addEventListener("input",(function(){B.style.background=C.value})),R.classList.add("selectedFilter"),O.classList.add("selectedFilter"),n(R),o(_,W),D.addEventListener("click",(function(){_=Y,O=D,j(_,O),x.textContent=this.textContent})),b.addEventListener("click",(function(){const e=new Date;e.setDate(Y.getDate()+7),_=e,O=b,j(_,O),x.textContent=this.textContent})),w.addEventListener("click",(function(){const e=new Date;e.setDate(Y.getDate()+30),_=e,O=w,j(_,O),x.textContent=this.textContent})),L.addEventListener("click",(function(){_=null,O=L,j(_,O),x.textContent=this.textContent})),$=document.querySelectorAll(".catBtns"),$.forEach((e=>{e.addEventListener("click",(function(){W=this.textContent,J=parseInt(this.dataset.catId),V(W)}))})),r.addEventListener("click",(function(){const e=window.getComputedStyle(s).display;window.innerWidth<750?"none"===e?(s.style.display="block",s.style.zIndex="2",a.style.gridColumn="1 / 3",a.classList.add("overlay"),r.src="./images/collapse3.png"):(s.style.display="none",s.style.zIndex="",a.style.gridColumn="1 / -1",a.classList.remove("overlay"),console.log("expand"),r.src="./images/expand3.png"):"none"===e?(s.style.display="block",s.style.zIndex="",a.style.gridColumn="2/3",a.classList.remove("overlay"),r.src="./images/collapse3.png"):(s.style.display="none",s.style.zIndex="",a.style.gridColumn="1 / -1",a.classList.remove("overlay"),console.log("expand"),r.src="./images/expand3.png")})),S.onclick=function(){i.style.display="none",delete P.dataset.editingTaskId},T.onclick=function(){d.style.display="none"},window.onclick=function(e){e.target==i?i.style.display="none":e.target==d&&(d.style.display="none")},q.addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),k.click())}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UyxHQUNuQnhJLEVBQVFwQyxNQUFNNkssV0FBYSxTQUMzQnpJLEVBQVF3QyxVQUFVQyxPQUFPLFdBQ3pCdEcsUUFBUUMsSUFBSSxVQUNaaUUsRUFBWW9GLElBQU0sdUJBSXhCLElBQ0ZoRSxFQUFLaUgsUUFBVSxXQUNYeEksRUFBTXRDLE1BQU13QixRQUFVLGNBQ2Z3QyxFQUFXL0QsUUFBUTRHLGFBQzlCLEVBQ0E5QyxFQUFhK0csUUFBVSxXQUNuQnZJLEVBQVN2QyxNQUFNd0IsUUFBVSxNQUM3QixFQUNBN0IsT0FBT21MLFFBQVUsU0FBU3ZELEdBQ2xCQSxFQUFNd0QsUUFBVXpJLEVBQ2xCQSxFQUFNdEMsTUFBTXdCLFFBQVUsT0FDZCtGLEVBQU13RCxRQUFVeEksSUFDdEJBLEVBQVN2QyxNQUFNd0IsUUFBVSxPQUVqQyxFQUNBLEVBQUt3RCxpQkFBaUIsV0FBVyxTQUFTdUMsR0FDcEIsVUFBZEEsRUFBTXlELE1BQ056RCxFQUFNQyxpQkFDTnhFLEVBQVVvSCxRQUVsQixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGFza21hbmFnZXIvLi9zcmMvaGVscGVyRnVuY3Rpb25zLmpzIiwid2VicGFjazovL3Rhc2ttYW5hZ2VyLy4vc3JjL2Rpc3BsYXlGdW5jdGlvbnMuanMiLCJ3ZWJwYWNrOi8vdGFza21hbmFnZXIvLi9zcmMvZG9tRWxlbWVudHMuanMiLCJ3ZWJwYWNrOi8vdGFza21hbmFnZXIvLi9zcmMvY2F0ZWdvcnlGdW5jdGlvbnMuanMiLCJ3ZWJwYWNrOi8vdGFza21hbmFnZXIvLi9zcmMvdGFza0Z1bmN0aW9ucy5qcyIsIndlYnBhY2s6Ly90YXNrbWFuYWdlci8uL3NyYy9pbmRleDMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnREYXRlKCl7IFxuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICB0b2RheS5zZXRIb3VycygwLCAwLCAwLCAwKTsgLy8gU2V0IGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCBhbmQgbWlsbGlzZWNvbmRzIHRvIDAgdG8gY29tcGFyZSBvbmx5IHRoZSBkYXRlc1xuICAgIHJldHVybiB0b2RheTtcbiAgfVxuZXhwb3J0IGZ1bmN0aW9uIGlzRGFya0NvbG9yKGNvbG9yKSB7XG4gIGxldCByZ2I7XG4gIGlmIChjb2xvci5zdGFydHNXaXRoKCcjJykpIHtcbiAgICAgIGxldCByID0gcGFyc2VJbnQoY29sb3Iuc2xpY2UoMSwgMyksIDE2KTtcbiAgICAgIGxldCBnID0gcGFyc2VJbnQoY29sb3Iuc2xpY2UoMywgNSksIDE2KTtcbiAgICAgIGxldCBiID0gcGFyc2VJbnQoY29sb3Iuc2xpY2UoNSwgNyksIDE2KTtcbiAgICAgIHJnYiA9IHsgciwgZywgYiB9O1xuICB9IGVsc2UgaWYgKGNvbG9yLnN0YXJ0c1dpdGgoJ3JnYignKSkge1xuICAgIC8vIEV4dHJhY3QgUkdCIHZhbHVlcyBmcm9tIGFuIFJHQiBzdHJpbmdcbiAgICBsZXQgdmFsdWVzID0gY29sb3Iuc3Vic3RyaW5nKDQsIGNvbG9yLmxlbmd0aCAtIDEpLnNwbGl0KCcsJyk7XG4gICAgbGV0IHIgPSBwYXJzZUludCh2YWx1ZXNbMF0sIDEwKTtcbiAgICBsZXQgZyA9IHBhcnNlSW50KHZhbHVlc1sxXSwgMTApO1xuICAgIGxldCBiID0gcGFyc2VJbnQodmFsdWVzWzJdLCAxMCk7XG4gICAgcmdiID0geyByLCBnLCBiIH07XG4gIH1cblxuICAvLyBDYWxjdWxhdGUgYnJpZ2h0bmVzcyBvbiBhIHNjYWxlIGZyb20gMCB0byAyNTVcbiAgbGV0IGJyaWdodG5lc3MgPSBNYXRoLnJvdW5kKCgocmdiLnIgKiAyOTkpICsgKHJnYi5nICogNTg3KSArIChyZ2IuYiAqIDExNCkpIC8gMTAwMCk7XG4gIGNvbnNvbGUubG9nKGJyaWdodG5lc3MpO1xuICByZXR1cm4gYnJpZ2h0bmVzcyA8IDE3MDsgLy8gUmV0dXJuIHRydWUgaWYgdGhlIGNvbG9yIGlzIGRhcmtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXREYXRlRm9ySW5wdXQoZGF0ZVN0cmluZykge1xuICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cmluZyk7XG4gIGNvbnN0IG9mZnNldCA9IGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKTsgLy8gR2V0IHRoZSB0aW1lem9uZSBvZmZzZXQgaW4gbWludXRlc1xuICBkYXRlLnNldE1pbnV0ZXMoZGF0ZS5nZXRNaW51dGVzKCkgKyBvZmZzZXQpOyAvLyBBZGp1c3QgdGhlIGRhdGUgYnkgdGhlIHRpbWV6b25lIG9mZnNldFxuICBjb25zdCBtbSA9IFN0cmluZyhkYXRlLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpO1xuICBjb25zdCBkZCA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgJzAnKTtcbiAgY29uc3QgeXl5eSA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgcmV0dXJuIGAke21tfS8ke2RkfS8ke3l5eXl9YDtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZ2JUb0hleChyZ2IpIHtcbiAgLy8gU2VwYXJhdGUgUkdCIHZhbHVlc1xuICBsZXQgdmFsdWVzID0gcmdiLm1hdGNoKC9ecmdiXFwoKFxcZCspLFxccyooXFxkKyksXFxzKihcXGQrKVxcKSQvKTtcblxuICAvLyBDb252ZXJ0IGVhY2ggdmFsdWUgdG8gaGV4YWRlY2ltYWxcbiAgbGV0IGhleENvbG9yID0gXCIjXCIgKyAoXCIwXCIgKyBwYXJzZUludCh2YWx1ZXNbMV0sIDEwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKSArXG4gICAgICAgICAgICAgICAgICAgIChcIjBcIiArIHBhcnNlSW50KHZhbHVlc1syXSwgMTApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpICtcbiAgICAgICAgICAgICAgICAgICAgKFwiMFwiICsgcGFyc2VJbnQodmFsdWVzWzNdLCAxMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtMik7XG4gIHJldHVybiBoZXhDb2xvcjtcbn1cbiAgIiwiaW1wb3J0IHsgY2F0ZWdvcmllcyB9IGZyb20gXCIuL2NhdGVnb3J5RnVuY3Rpb25zXCI7XG5pbXBvcnQgeyBmb3JtYXREYXRlRm9ySW5wdXQgfSBmcm9tIFwiLi9oZWxwZXJGdW5jdGlvbnNcIjtcbi8vIGltcG9ydCB7IGN1cnJlbnRDYXRlZ29yeSB9IGZyb20gXCIuL2RvbUVsZW1lbnRzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVQYWdlVGl0bGUoc2VsZWN0ZWRDYXRlZ29yeUJ0bil7XG4gIC8vQXBwbHkgcGFnZSB0aXRsZSBiYXNlZCBvbiBjYXRlZ3J5XG4gIHBhZ2VUaXRsZS50ZXh0Q29udGVudCA9IHNlbGVjdGVkQ2F0ZWdvcnlCdG4udGV4dENvbnRlbnQ7XG5cbiAgLy8gQ2hhbmdlIHBhZ2UgdGl0bGUgYWNjb3JkaW5nIHRvIHNlbGVjdGVkIGJ1dHRvblxuICBsZXQgc2VsZWN0ZWRDYXRCdG4gPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShzZWxlY3RlZENhdGVnb3J5QnRuKTtcbiAgbGV0IGJnQ29sb3IgPSBzZWxlY3RlZENhdEJ0bi5iYWNrZ3JvdW5kQ29sb3I7XG4gIGxldCBmb250Q29sb3IgPSBzZWxlY3RlZENhdEJ0bi5jb2xvcjtcbiAgcGFnZVRpdGxlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJnQ29sb3I7XG4gIHBhZ2VUaXRsZS5zdHlsZS5jb2xvciA9IGZvbnRDb2xvcjtcbiAgcGFnZVRpdGxlLmRhdGFzZXQuY2F0SWQgPSBzZWxlY3RlZENhdGVnb3J5QnRuLmRhdGFzZXQuY2F0SWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVQYWdlVGFza3Moc2VsZWN0ZWRUaW1lbGluZSwgc2VsZWN0ZWRDYXRlZ29yeSkge1xuICAvLyBMb29wIHRocm91Z2ggYWxsIHRhc2tDb250YWluZXJEaXYgZWxlbWVudHMgXG4gIGNvbnN0IGFsbFRhc2tDb250YWluZXJEaXZzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhc2tDb250YWluZXJEaXYnKTtcbiAgYWxsVGFza0NvbnRhaW5lckRpdnMuZm9yRWFjaCgodGFza0NvbnRhaW5lckRpdikgPT4ge1xuICAgICAgY29uc3QgdGFza0RpdiA9IHRhc2tDb250YWluZXJEaXYucXVlcnlTZWxlY3RvcignLnRhc2tEaXYnKTsgLy8gR2V0IHRoZSB0YXNrRGl2IGluc2lkZSB0aGUgY3VycmVudCB0YXNrQ29udGFpbmVyRGl2XG4gICAgICBjb25zdCB0YXNrSWQgPSB0YXNrRGl2LmRhdGFzZXQudGFza0lkO1xuICAgICAgXG4gICAgICBjb25zdCB0YXNrID0gZ2V0VGFza0J5SWQodGFza0lkKTsgLy8gUmV0cmlldmUgdGhlIHRhc2sgb2JqZWN0IGJ5IElEXG5cbiAgICAgIC8vIENoZWNrIGlmIHRoZSB0YXNrJ3MgZHVlIGRhdGUgaXMgYmV0d2VlbiBzdGFydERhdGUgYW5kIHNlbGVjdGVkVGltZWxpbmVcbiAgICAgIGNvbnN0IHRhc2tEdWVEYXRlID0gbmV3IERhdGUoZm9ybWF0RGF0ZUZvcklucHV0KHRhc2suZHVlRGF0ZSkpO1xuICAgICAgdGFza0R1ZURhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG5cbiAgICAgIC8vIEFzc2lnbiB0aGUgdGFzayBjYXRlZ29yeSB0byB0YXNrQ2F0ZWdvcnlcbiAgICAgIGNvbnN0IHRhc2tDYXRlZ29yeSA9IHRhc2suY2F0ZWdvcnk7XG5cbiAgICAgIGlmICgoc2VsZWN0ZWRUaW1lbGluZSA9PT0gbnVsbCB8fCB0YXNrRHVlRGF0ZSA8PSBzZWxlY3RlZFRpbWVsaW5lKSAmJiAoc2VsZWN0ZWRDYXRlZ29yeSA9PT0gXCJBbGwgSW5ib3hcIiB8fCB0YXNrQ2F0ZWdvcnkubmFtZSA9PT0gc2VsZWN0ZWRDYXRlZ29yeSkpIHtcbiAgICAgICAgICAvLyBTaG93IHRoZSB0YXNrQ29udGFpbmVyRGl2IGlmIGl0cyBkdWUgZGF0ZSBpcyBiZXR3ZWVuIHN0YXJ0RGF0ZSBhbmQgZW5kRGF0ZSwgYW5kIGNhdGVnb3J5IG1hdGNoZXNcbiAgICAgICAgICB0YXNrQ29udGFpbmVyRGl2LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBIaWRlIHRoZSB0YXNrQ29udGFpbmVyRGl2IGlmIGl0cyBkdWUgZGF0ZSBpcyBvdXRzaWRlIHRoZSByYW5nZSBvciBjYXRlZ29yeSBkb2Vzbid0IG1hdGNoXG4gICAgICAgICAgdGFza0NvbnRhaW5lckRpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfVxuXG4gICAgICAvL0hlbHBlciBmdW5jdGlvblxuICAgICAgZnVuY3Rpb24gZ2V0VGFza0J5SWQodGFza0lkKSB7XG4gICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGVhY2ggY2F0ZWdvcnlcbiAgICAgICAgICBmb3IgKGNvbnN0IGNhdGVnb3J5IG9mIGNhdGVnb3JpZXMpIHtcbiAgICAgICAgICAgIC8vIEZpbmQgdGhlIHRhc2sgaW4gdGhlIGNhdGVnb3J5J3MgdGFza3MgYXJyYXkgd2l0aCB0aGUgbWF0Y2hpbmcgSURcbiAgICAgICAgICAgIGNvbnN0IHRhc2sgPSBjYXRlZ29yeS50YXNrcy5maW5kKCh0YXNrKSA9PiB0YXNrLmlkID09IHRhc2tJZCk7XG4gICAgICAgICAgICBpZiAodGFzaykge1xuICAgICAgICAgICAgICByZXR1cm4gdGFzazsgLy8gUmV0dXJuIHRoZSB0YXNrIGlmIGZvdW5kXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBudWxsOyAvLyBSZXR1cm4gbnVsbCBpZiBubyB0YXNrIHdpdGggdGhlIGdpdmVuIElEIGlzIGZvdW5kXG4gICAgICAgIH1cbiAgfSk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gc29ydChzb3J0T3B0aW9uKXtcbiAgY29uc3QgdGFza0RpdkFycmF5ID0gW107IC8vIENyZWF0ZSBhbiBlbXB0eSBhcnJheSB0byBzdG9yZSB0YXNrRGl2c1xuXG4gIC8vIExvb3AgdGhyb3VnaCBhbGxUYXNrQ29udGFpbmVyRGl2cyBhbmQgc3RvcmUgZWFjaCB0YXNrRGl2IGludG8gdGhlIHRhc2tEaXZBcnJheVxuICBjb25zdCBhbGxUYXNrQ29udGFpbmVyRGl2cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXNrQ29udGFpbmVyRGl2Jyk7XG4gIGFsbFRhc2tDb250YWluZXJEaXZzLmZvckVhY2goKHRhc2tDb250YWluZXJEaXYpID0+IHtcbiAgICAgIGNvbnN0IHRhc2tEaXYgPSB0YXNrQ29udGFpbmVyRGl2LnF1ZXJ5U2VsZWN0b3IoJy50YXNrRGl2Jyk7IFxuICAgICAgaWYodGFza0Rpdil7IC8vR2V0IGVhY2ggdGFza3MncyBkYXRhIChkdWUgZGF0ZSBhbmQgcHJpb3JpdHkpIFxuICAgICAgICBnZXRUYXNrRGF0YSh0YXNrRGl2KTtcbiAgICAgICAgdGFza0RpdkFycmF5LnB1c2godGFza0Rpdik7IC8vIFB1c2ggdGhlIHRhc2tEaXYgaW50byB0aGUgYXJyYXkgaWYgaXQgZXhpc3RzXG5cbiAgICAgICAgY29uc29sZS5sb2codGFza0Rpdik7XG4gICAgICB9XG4gIH0pO1xuXG4gIGNvbnNvbGUubG9nKHRhc2tEaXZBcnJheSk7XG5cbiAgaWYoc29ydE9wdGlvbiA9PT0gJ2RhdGUnKXtcbiAgICBjb25zb2xlLmxvZygnZGF0ZSBjbGlja2VkJyk7XG4gICAgLy8gU29ydCBieSBlYXJsaWVzdCBkdWUgZGF0ZVxuICAgIHRhc2tEaXZBcnJheS5zb3J0KChhLCBiKSA9PiB7IFxuICAgICAgLy9hICYgYiByZXByZXNlbnQgdGhlIHRhc2sgZGl2LiBcblxuICAgICAgLy8gR2V0IHRoZSB0YXNrRHVlRGF0ZSBmcm9tIHRhc2tEYXRhIHByb3BlcnR5IGZvciBlYWNoIHRhc2sgZGl2IChhICZiKVxuICAgICAgY29uc3QgZHVlRGF0ZUEgPSBuZXcgRGF0ZShhLnRhc2tEYXRhLnRhc2tEdWVEYXRlKTtcbiAgICAgIGNvbnN0IGR1ZURhdGVCID0gbmV3IERhdGUoYi50YXNrRGF0YS50YXNrRHVlRGF0ZSk7XG5cbiAgICAgIC8vIENvbXBhcmUgdGhlIGR1ZSBkYXRlc1xuICAgICAgcmV0dXJuIGR1ZURhdGVBIC0gZHVlRGF0ZUI7XG4gICAgfSk7XG4gIH0gZWxzZSBpZihzb3J0T3B0aW9uID09PSAncHJpb3JpdHknKXtcbiAgICBjb25zb2xlLmxvZygncHJpb3JpdHkgY2xpY2tlZCcpO1xuICAgIC8vIFNvcnQgdGFza0RpdkFycmF5IGJ5IHRhc2tQcmlvcml0eVxuICAgIHRhc2tEaXZBcnJheS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAvLyBHZXQgdGhlIHRhc2tQcmlvcml0eSBmcm9tIHRhc2tEYXRhIHByb3BlcnR5IGFuZCBjb252ZXJ0IGl0IHRvIGEgbnVtZXJpYyB2YWx1ZVxuICAgICAgY29uc3QgcHJpb3JpdHlWYWx1ZUEgPSBnZXRQcmlvcml0eVZhbHVlKGEudGFza0RhdGEudGFza1ByaW9yaXR5KTtcbiAgICAgIGNvbnN0IHByaW9yaXR5VmFsdWVCID0gZ2V0UHJpb3JpdHlWYWx1ZShiLnRhc2tEYXRhLnRhc2tQcmlvcml0eSk7XG5cbiAgICAgIC8vIENvbXBhcmUgdGhlIHByaW9yaXR5IHZhbHVlc1xuICAgICAgcmV0dXJuIHByaW9yaXR5VmFsdWVBIC0gcHJpb3JpdHlWYWx1ZUI7XG4gICAgfSk7XG4gIH1cblxuXG4gIC8vIEhlbHBlciBmdW5jdGlvblxuICBmdW5jdGlvbiBnZXRUYXNrRGF0YSh0YXNrRGl2KXtcbiAgICAvLyBHZXQgdGhlIHRhc2tEdWVEYXRlIGFuZCB0YXNrUHJpb3JpdHkgZWxlbWVudHMgd2l0aGluIHRoZSB0YXNrRGl2XG4gICAgY29uc3QgdGFza0R1ZURhdGUgPSB0YXNrRGl2LnF1ZXJ5U2VsZWN0b3IoJy50YXNrRHVlRGF0ZScpLmlubmVySFRNTDtcbiAgICBjb25zdCB0YXNrUHJpb3JpdHkgPSB0YXNrRGl2LnF1ZXJ5U2VsZWN0b3IoJy50YXNrUHJpb3JpdHknKS5pbm5lckhUTUw7XG4gIFxuICAgIC8vIEFkZCB0YXNrRGF0YSBhcyBhIHByb3BlcnR5IG9mIHRoZSB0YXNrRGl2IGVsZW1lbnRcbiAgICB0YXNrRGl2LnRhc2tEYXRhID0ge1xuICAgICAgdGFza0R1ZURhdGUsXG4gICAgICB0YXNrUHJpb3JpdHksXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFByaW9yaXR5VmFsdWUodGFza1ByaW9yaXR5KXtcbiAgICBzd2l0Y2ggKHRhc2tQcmlvcml0eSkge1xuICAgICAgY2FzZSBcIi4vaW1hZ2VzL3dhcm5pbmctMzMzLnBuZ1wiOlxuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgY2FzZSBcIi4vaW1hZ2VzL3dhcm5pbmctMjIyLnBuZ1wiOlxuICAgICAgICAgIHJldHVybiAyO1xuICAgICAgY2FzZSBcIi4vaW1hZ2VzL3dhcm5pbmctMTExLnBuZ1wiOlxuICAgICAgICAgIHJldHVybiAzO1xuICAgICAgY2FzZSBcIi4vaW1hZ2VzL3dhcm5pbmdfZ3JleS5wbmdcIjpcbiAgICAgICAgICByZXR1cm4gNDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIDA7IC8vIERlZmF1bHQgdmFsdWUgZm9yIHVuZGVmaW5lZCBvciBvdGhlciBzb3VyY2VzXG4gICAgfVxuICB9XG5cbn1cblxuXG5cblxuXG4iLCJpbXBvcnQgeyBUYXNrLCB0YXNrQ291bnRlciB9IGZyb20gXCIuL3Rhc2tGdW5jdGlvbnNcIjtcbmltcG9ydCB7IGdldEN1cnJlbnREYXRlLCBmb3JtYXREYXRlRm9ySW5wdXQsIGlzRGFya0NvbG9yLCByZ2JUb0hleCB9IGZyb20gXCIuL2hlbHBlckZ1bmN0aW9uc1wiO1xuaW1wb3J0IHsgdXBkYXRlUGFnZVRpdGxlLCB1cGRhdGVQYWdlVGFza3MsIHNvcnR9IGZyb20gXCIuL2Rpc3BsYXlGdW5jdGlvbnNcIjtcbmltcG9ydCB7IENhdGVnb3J5LCBjYXRlZ29yaWVzLCBjYXRJRCwgY3VycmVudE1vZGUgfSBmcm9tIFwiLi9jYXRlZ29yeUZ1bmN0aW9uc1wiO1xuXG5cbmNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGVudCcpO1xuY29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbmF2Jyk7XG5jb25zdCBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtb2RhbCcpO1xuY29uc3QgY2F0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2F0TW9kYWwnKTtcbmNvbnN0IHRhc2tzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2tzQ29udGFpbmVyJyk7XG5jb25zdCBjb2xsYXBzZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2xsYXBzZUJ0bicpO1xuY29uc3Qgc29ydE9wdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc29ydE9wdGlvbnMnKTtcbmNvbnN0IHNvcnRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc29ydEJ0bicpO1xuY29uc3QgZGF0ZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRlQnRuJyk7XG5jb25zdCBpbXBvcnRhbmNlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltcG9ydGFuY2VCdG4nKTtcblxuXG5jb25zdCBjcmVhdGVUYXNrQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NyZWF0ZVRhc2snKTtcbmNvbnN0IG9rVGFza0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdva1Rhc2tCdG4nKVxuY29uc3QgY2FuY2VsVGFza0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW5jZWxUYXNrQnRuJyk7XG5jb25zdCBkZWxldGVCdG5Nb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZWxldGUnKTtcbmNvbnN0IG5ld0NhdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXdDYXRCdG4nKTtcbmNvbnN0IG9rQ2F0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29rQ2F0QnRuJyk7XG5jb25zdCBjYW5jZWxDYXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FuY2VsQ2F0QnRuJyk7XG5jb25zdCBpbmJveEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdBbGwgSW5ib3gnKVxuY29uc3QgcmVzcG9uc2liaWxpdGllc0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdSZXNwb25zaWJpbGl0aWVzJyk7XG5jb25zdCBldmVudHNCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnRXZlbnRzICYgU29jaWFsJyk7XG5jb25zdCBwcm9ncmFtbWluZ0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdQcm9ncmFtbWluZyBDb3Vyc2UnKTtcbmNvbnN0IGNvbG9yUGlja2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbG9yUGlja2VyJyk7XG5jb25zdCBjb2xvckRpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sb3JEaXNwbGF5Jyk7XG5jb25zdCBhbGxCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWxsQnRuJyk7XG5jb25zdCB0b2RheUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2RheUJ0bicpO1xuY29uc3QgdGhpc1dlZWtCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGhpc1dlZWtCdG4nKTtcbmNvbnN0IHRoaXNNb250aEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aGlzTW9udGhCdG4nKTtcbmNvbnN0IHBhZ2VUaW1lbGluZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlVGltZWxpbmUnKTtcbmxldCBzcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNsb3NlXCIpWzBdO1xubGV0IHNwYW5DYXRNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJjbG9zZUNhdE1vZGFsXCIpWzBdO1xubGV0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtJyk7XG5sZXQgcGFnZVRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhZ2VUaXRsZScpO1xuXG5sZXQgdGl0bGVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGVcIilcbmxldCBjYXRlZ29yeVNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2F0ZWdvcnlcIik7XG5sZXQgZHVlRGF0ZVNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZHVlRGF0ZVwiKTtcbmxldCBwcmlvcml0eVNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJpb3JpdHlcIik7XG5sZXQgZGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25cIik7XG5sZXQgY2F0ZWdvcnlCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhdEJ0bnMnKTtcbmxldCB0aW1lbGluZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGltZWxpbmVCdG5zJyk7XG5cbmxldCBzZWxlY3RlZENhdGVnb3J5ID0gJ0FsbCBJbmJveCc7XG5sZXQgc2VsZWN0ZWRDYXRlZ29yeUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlbGVjdGVkQ2F0ZWdvcnkpO1xubGV0IHNlbGVjdGVkVGltZWxpbmUgPSBudWxsO1xubGV0IHNlbGVjdGVkVGltZWxpbmVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFsbEJ0blwiKTtcblxuY29uc3QgdG9kYXkgPSBnZXRDdXJyZW50RGF0ZSgpO1xuXG5leHBvcnQge1xuICBjb250ZW50LCBuYXYsbW9kYWwsc3BhbixjYXRNb2RhbCwgc3BhbkNhdE1vZGFsLHRhc2tzQ29udGFpbmVyLGZvcm0scGFnZVRpdGxlLGNvbGxhcHNlQnRuLGNyZWF0ZVRhc2tCdG4sb2tUYXNrQnRuLGNhbmNlbFRhc2tCdG4sZGVsZXRlQnRuTW9kYWwsbmV3Q2F0QnRuLG9rQ2F0QnRuLGNhbmNlbENhdEJ0bixpbmJveEJ0bixyZXNwb25zaWJpbGl0aWVzQnRuLGV2ZW50c0J0bixwcm9ncmFtbWluZ0J0bix0aXRsZUlucHV0LGNhdGVnb3J5U2VsZWN0LGR1ZURhdGVTZWxlY3QscHJpb3JpdHlTZWxlY3QsZGVzY3JpcHRpb25JbnB1dCxjYXRlZ29yeUJ1dHRvbnMsYWxsQnRuLCB0b2RheUJ0biwgdGhpc1dlZWtCdG4sIHRoaXNNb250aEJ0biwgcGFnZVRpbWVsaW5lLCBjb2xvclBpY2tlciwgY29sb3JEaXNwbGF5ICBcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB0YXNrRXZMaXN0ZW5lcnMoKXtcbiAgY3JlYXRlVGFza0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkgeyAvLyBCcmluZ3MgdXAgbmV3IHRhc2sgbW9kYWwgXG4gICAgICAvLyBTZXQgZGVmYXVsdCBpbnB1dHNcbiAgICAgIHRpdGxlSW5wdXQudmFsdWUgPSBcIlwiO1xuICAgICAgY2F0ZWdvcnlTZWxlY3QudmFsdWUgPSBzZWxlY3RlZENhdGVnb3J5O1xuICAgICAgbGV0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgIGxldCBkZCA9IFN0cmluZyh0b2RheS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgICBsZXQgbW0gPSBTdHJpbmcodG9kYXkuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgICBsZXQgeXl5eSA9IHRvZGF5LmdldEZ1bGxZZWFyKCk7XG4gICAgICBcbiAgICAgIC8vIEZvcm1hdCB0aGUgZGF0ZSBhcyBcIm1tLWRkLXl5eXlcIlxuICAgICAgdG9kYXkgPSB5eXl5ICsgJy0nICsgbW0gKyAnLScgKyBkZDtcbiAgICAgIGR1ZURhdGVTZWxlY3QudmFsdWUgPSB0b2RheVxuICAgICAgXG4gICAgICBwcmlvcml0eVNlbGVjdC52YWx1ZSA9IFwiTG93XCI7XG4gICAgICBkZXNjcmlwdGlvbklucHV0LnZhbHVlID0gXCJcIjtcbiAgXG4gICAgICAvLyBTaG93IHRoZSBtb2RhbFxuICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgfSk7XG4gIFxuICBjYW5jZWxUYXNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIFByZXZlbnQgdGhlIGZvcm0gZnJvbSBzdWJtaXR0aW5nXG4gICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIH0pO1xuXG4gIG9rVGFza0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7IC8vQ2FsbHMgYWRkVGFzayBvciBlZGl0VGFza1xuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtJykucmVwb3J0VmFsaWRpdHkoKSkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGl0bGVJbnB1dC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFzc2lnbiBwcm9wZXJ0eSB2YWx1ZXMgYmFzZWQgb2ZmIGlucHV0c1xuICAgICAgICAgIGxldCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGVcIikudmFsdWU7XG4gICAgICAgICAgbGV0IGNhdGVnb3J5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYXRlZ29yeVwiKS52YWx1ZTtcbiAgICAgICAgICBsZXQgY2F0ZWdvcnlWYWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2F0ZWdvcnlcIikudmFsdWU7XG4gICAgICAgICAgbGV0IGNhdGVnb3J5T2JqZWN0ID0gY2F0ZWdvcmllcy5maW5kKGNhdGVnb3J5ID0+IGNhdGVnb3J5Lm5hbWUgPT09IGNhdGVnb3J5VmFsdWUpO1xuICAgICAgICAgIGxldCBkdWVEYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkdWVEYXRlXCIpLnZhbHVlO1xuICAgICAgICAgIGxldCBpbXBvcnRhbmNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmlvcml0eVwiKS52YWx1ZTtcbiAgICAgICAgICBsZXQgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uXCIpLnZhbHVlO1xuICAgICAgXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgd2UncmUgY3JlYXRpbmcgYSBuZXcgdGFzayBvciB1cGRhdGluZyBhbiBleGlzdGluZyBvbmVcbiAgICAgICAgICBpZiAodGl0bGVJbnB1dC5kYXRhc2V0LmVkaXRpbmdUYXNrSWQpIHtcbiAgICAgICAgICAgICAgZWRpdFRhc2sodGl0bGUsIGNhdGVnb3J5T2JqZWN0LCBkdWVEYXRlLCBpbXBvcnRhbmNlLCBkZXNjcmlwdGlvbik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYWRkVGFzayh0aXRsZSwgY2F0ZWdvcnksIGNhdGVnb3J5T2JqZWN0LCBkdWVEYXRlLCBpbXBvcnRhbmNlLCBkZXNjcmlwdGlvbik7XG4gICAgICAgICAgfVxuICBcbiAgICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICBcbiAgICAgICAgfSBlbHNlIHsgdGl0bGVJbnB1dC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpOyB9XG4gICAgICBcbiAgICBmdW5jdGlvbiBhZGRUYXNrKHRpdGxlLCBjYXRlZ29yeSwgY2F0ZWdvcnlPYmplY3QsIGR1ZURhdGUsIGltcG9ydGFuY2UsIGRlc2NyaXB0aW9uKXtcbiAgICAgICAgLy8gQ3JlYXRlIFRhc2sgT2JqZWN0IFxuICAgICAgICBsZXQgbmV3VGFzayA9IG5ldyBUYXNrKHRhc2tDb3VudGVyLCB0aXRsZSwgY2F0ZWdvcnlPYmplY3QsIGR1ZURhdGUsIGltcG9ydGFuY2UsIGRlc2NyaXB0aW9uKTtcbiAgICBcbiAgICAgICAgdGFza0NvdW50ZXIrKztcbiAgICAgICAgY2F0ZWdvcnlPYmplY3QuYWRkVGFza1RvQ2F0KG5ld1Rhc2spO1xuICAgICAgICBsZXQgdGFza0lkID0gbmV3VGFzay5pZFxuICAgICAgICBcbiAgICAgICAgLy8gQ29udGFpbmVyIGRpdiBmb3IgdGhlIHRhc2sgYW5kIHRoZSBsaW5lIGJyZWFrXG4gICAgICAgIGNvbnN0IHRhc2tDb250YWluZXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGFza0NvbnRhaW5lckRpdi5jbGFzc0xpc3QuYWRkKCd0YXNrQ29udGFpbmVyRGl2Jyk7XG4gICAgXG4gICAgICAgIC8vIEFkZCBUYXNrIERpdlxuICAgICAgICBmdW5jdGlvbiBhZGRUYXNrRGl2KHRhc2tJZCwgdGl0bGUsIGNhdGVnb3J5LCBkdWVEYXRlLCB0YXNrQ291bnRlciwgcHJpb3JpdHlTZWxlY3Qpe1xuICAgICAgICAgICAgY29uc3QgdGFza0JpZ0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgdGFza0JpZ0Rpdi5jbGFzc0xpc3QuYWRkKCd0YXNrQmlnRGl2Jyk7XG4gICAgICAgICAgICBjb25zdCB0YXNrRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICB0YXNrRGl2LmNsYXNzTGlzdC5hZGQoJ3Rhc2tEaXYnKTtcbiAgICAgICAgICAgIHRhc2tEaXYuaWQgPSB0YXNrSWQ7XG4gICAgICAgICAgICB0YXNrRGl2LmRhdGFzZXQudGFza0lkID0gdGFza0lkO1xuICAgIFxuICAgICAgICAgICAgdGFza0Rpdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIG9wZW5UYXNrTW9kYWxGb3JFZGl0aW5nKG5ld1Rhc2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB0YXNrUHJpbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIHRhc2tQcmltLmNsYXNzTGlzdC5hZGQoJ3Rhc2tQcmltJyk7XG4gICAgICAgICAgICB0YXNrRGl2LmFwcGVuZENoaWxkKHRhc2tQcmltKTtcbiAgICBcbiAgICAgICAgICAgICAgICBjb25zdCBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LnR5cGUgPSAnY2hlY2tib3gnO1xuICAgICAgICAgICAgICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tUaXRsZS5jbGFzc0xpc3QuYWRkKCdjb21wbGV0ZScpO1xuICAgICAgICAgICAgICAgICAgICB0YXNrQ2F0ZWdvcnkuY2xhc3NMaXN0LmFkZCgnY29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICAgICAgdGFza0R1ZURhdGUuY2xhc3NMaXN0LmFkZCgnY29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICAgICAgdGFza1ByaW9yaXR5LmNsYXNzTGlzdC5hZGQoJ2NvbXBsZXRlJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrVGl0bGUuY2xhc3NMaXN0LnJlbW92ZSgnY29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tDYXRlZ29yeS5jbGFzc0xpc3QucmVtb3ZlKCdjb21wbGV0ZScpO1xuICAgICAgICAgICAgICAgICAgICB0YXNrRHVlRGF0ZS5jbGFzc0xpc3QucmVtb3ZlKCdjb21wbGV0ZScpO1xuICAgICAgICAgICAgICAgICAgICB0YXNrUHJpb3JpdHkuY2xhc3NMaXN0LnJlbW92ZSgnY29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgdGFza1RpdGxlLmNsYXNzTGlzdC5hZGQoJ3Rhc2tUaXRsZScpO1xuICAgICAgICAgICAgICAgICAgICB0YXNrVGl0bGUudGV4dENvbnRlbnQgPSB0aXRsZTtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrQ2F0ZWdvcnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgdGFza0NhdGVnb3J5LmNsYXNzTGlzdC5hZGQoJ3Rhc2tDYXRlZ29yeScpO1xuICAgICAgICAgICAgICAgICAgICB0YXNrQ2F0ZWdvcnkudGV4dENvbnRlbnQgPSBcIihcIiArIGNhdGVnb3J5ICsgXCIpXCI7XG4gICAgXG4gICAgICAgICAgICAgICAgdGFza1ByaW0uYXBwZW5kQ2hpbGQoY2hlY2tib3gpO3Rhc2tQcmltLmFwcGVuZENoaWxkKHRhc2tUaXRsZSk7dGFza1ByaW0uYXBwZW5kQ2hpbGQodGFza0NhdGVnb3J5KTtcbiAgICBcbiAgICAgICAgICAgIGNvbnN0IHRhc2tTZWMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICB0YXNrU2VjLmNsYXNzTGlzdC5hZGQoJ3Rhc2tTZWMnKTtcbiAgICAgICAgICAgIHRhc2tEaXYuYXBwZW5kQ2hpbGQodGFza1NlYyk7XG4gICAgXG4gICAgICAgICAgICAgICAgY29uc3QgdGFza0R1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgdGFza0R1ZURhdGUuY2xhc3NMaXN0LmFkZCgndGFza0R1ZURhdGUnKTtcbiAgICAgICAgICAgICAgICAgICAgdGFza0R1ZURhdGUudGV4dENvbnRlbnQgPSBmb3JtYXREYXRlRm9ySW5wdXQoZHVlRGF0ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFza1ByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tQcmlvcml0eS5jbGFzc0xpc3QuYWRkKCd0YXNrUHJpb3JpdHknKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrUHJpb3JpdHlJbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgICAgICAgICBpZihwcmlvcml0eVNlbGVjdC52YWx1ZSA9PSBcIkhpZ2hlc3RcIil7dGFza1ByaW9yaXR5SW1nLnNyYyA9IFwiLi9pbWFnZXMvd2FybmluZy0zMzMucG5nXCJ9XG4gICAgICAgICAgICAgICAgZWxzZSBpZihwcmlvcml0eVNlbGVjdC52YWx1ZSA9PSBcIkhpZ2hcIil7dGFza1ByaW9yaXR5SW1nLnNyYyA9IFwiLi9pbWFnZXMvd2FybmluZy0yMjIucG5nXCJ9XG4gICAgICAgICAgICAgICAgZWxzZSBpZihwcmlvcml0eVNlbGVjdC52YWx1ZSA9PSBcIk1lZGl1bVwiKXt0YXNrUHJpb3JpdHlJbWcuc3JjID0gXCIuL2ltYWdlcy93YXJuaW5nLTExMS5wbmdcIn1cbiAgICAgICAgICAgICAgICBlbHNlIHt0YXNrUHJpb3JpdHlJbWcuc3JjID0gXCIuL2ltYWdlcy93YXJuaW5nX2dyZXkucG5nXCJ9XG4gICAgICAgICAgICAgICAgICAgIHRhc2tQcmlvcml0eUltZy5jbGFzc0xpc3QuYWRkKCdzeW1ib2wnKTtcbiAgICAgICAgICAgICAgICAgICAgdGFza1ByaW9yaXR5LmFwcGVuZENoaWxkKHRhc2tQcmlvcml0eUltZyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsZXRlQnRuQmlnRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZUJ0bkJpZ0Rpdi5pZCA9IHRhc2tJZDtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlQnRuQmlnRGl2LnNyYyA9IFwiLi9pbWFnZXMvZGVsZXRlLnBuZ1wiOyAvLyBDaGFuZ2UgdG8geW91ciBkZWxldGUgaW1hZ2UncyBwYXRoXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZUJ0bkJpZ0Rpdi5jbGFzc0xpc3QuYWRkKCdzeW1ib2wnKTtcbiAgICBcbiAgICAgICAgICAgICAgICBkZWxldGVCdG5CaWdEaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRhc2tJZCBmcm9tIHRoZSBlZGl0aW5nVGFza0lkIGRhdGEgYXR0cmlidXRlXG4gICAgICAgICAgICAgICAgICAgIGxldCB0YXNrSWQgPSBkZWxldGVCdG5CaWdEaXYuaWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGFza0lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTm8gdGFzayBpcyBjdXJyZW50bHkgYmVpbmcgZWRpdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH0gZGVsZXRlVGFzayh0YXNrSWQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgIFxuICAgICAgICAgICAgICAgIHRhc2tTZWMuYXBwZW5kQ2hpbGQodGFza0R1ZURhdGUpOyB0YXNrU2VjLmFwcGVuZENoaWxkKHRhc2tQcmlvcml0eSk7XG4gICAgICAgICAgICAgICAgdGFza0JpZ0Rpdi5hcHBlbmRDaGlsZCh0YXNrRGl2KTt0YXNrQmlnRGl2LmFwcGVuZENoaWxkKGRlbGV0ZUJ0bkJpZ0Rpdik7XG4gICAgXG4gICAgICAgICAgICBjb25zdCBsaW5lYnJlYWsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdocicpO1xuICAgIFxuICAgICAgICAgICAgdGFza0NvbnRhaW5lckRpdi5hcHBlbmRDaGlsZCh0YXNrQmlnRGl2KTt0YXNrQ29udGFpbmVyRGl2LmFwcGVuZENoaWxkKGxpbmVicmVhayk7dGFza3NDb250YWluZXIuYXBwZW5kQ2hpbGQodGFza0NvbnRhaW5lckRpdik7ICAgIFxuICAgICAgICB9IGFkZFRhc2tEaXYodGFza0lkLCB0aXRsZSwgY2F0ZWdvcnksIGR1ZURhdGUsIHRhc2tDb3VudGVyLCBwcmlvcml0eVNlbGVjdCk7XG4gICAgICAgIFxuICAgICAgICAvL0hlbHBlciBGdW5jdGlvblxuICAgICAgICBmdW5jdGlvbiBvcGVuVGFza01vZGFsRm9yRWRpdGluZyh0YXNrKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRhc2spO1xuICAgICAgICAgICAgLy8gU2V0IHRoZSBmb3JtIGlucHV0cyB0byB0aGUgdGFzaydzIHZhbHVlc1xuICAgICAgICAgICAgdGl0bGVJbnB1dC52YWx1ZSA9IHRhc2sudGl0bGU7XG4gICAgICAgICAgICBjYXRlZ29yeVNlbGVjdC52YWx1ZSA9IHRhc2suY2F0ZWdvcnkubmFtZTtcbiAgICAgICAgICAgIGR1ZURhdGVTZWxlY3QudmFsdWUgPSB0YXNrLmR1ZURhdGU7XG4gICAgICAgICAgICBwcmlvcml0eVNlbGVjdC52YWx1ZSA9IHRhc2sucHJpb3JpdHk7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbklucHV0LnZhbHVlID0gdGFzay5kZXNjcmlwdGlvbjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2V0IHRoZSBkYXRhIGF0dHJpYnV0ZSBvbiB0aGUgdGl0bGUgaW5wdXQgdG8gdGhlIHRhc2sncyBpZCBzbyB3ZSBrbm93IHdoaWNoIHRhc2sgaXMgYmVpbmcgZWRpdGVkXG4gICAgICAgICAgICB0aXRsZUlucHV0LmRhdGFzZXQuZWRpdGluZ1Rhc2tJZCA9IHRhc2suaWQ7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNob3cgdGhlIG1vZGFsXG4gICAgICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBlZGl0VGFzayh0aXRsZSwgY2F0ZWdvcnlPYmplY3QsIGR1ZURhdGUsIGltcG9ydGFuY2UsIGRlc2NyaXB0aW9uKXtcbiAgICAgICAgLy8gRWRpdGluZyBUYXNrIE9iamVjdFxuICAgICAgICBsZXQgdGFza0lkID0gdGl0bGVJbnB1dC5kYXRhc2V0LmVkaXRpbmdUYXNrSWQ7XG4gICAgICAgIGxldCB0YXNrT2JqZWN0O1xuICAgICAgICBmb3IobGV0IGNhdGVnb3J5IG9mIGNhdGVnb3JpZXMpIHtcbiAgICAgICAgICAgIHRhc2tPYmplY3QgPSBjYXRlZ29yeS50YXNrcy5maW5kKHRhc2sgPT4gdGFzay5pZCA9PSB0YXNrSWQpO1xuICAgICAgICAgICAgaWYodGFza09iamVjdCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0YXNrT2JqZWN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYE5vIHRhc2sgZm91bmQgd2l0aCBpZCAke3Rhc2tJZH1gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvLyBVcGRhdGUgdGhlIHRhc2sgb2JqZWN0J3MgdmFsdWVzXG4gICAgICAgIHRhc2tPYmplY3QudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGFza09iamVjdC5jYXRlZ29yeSA9IGNhdGVnb3J5T2JqZWN0O1xuICAgICAgICB0YXNrT2JqZWN0LmR1ZURhdGUgPSBkdWVEYXRlO1xuICAgICAgICB0YXNrT2JqZWN0LnByaW9yaXR5ID0gaW1wb3J0YW5jZTtcbiAgICAgICAgdGFza09iamVjdC5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIFxuICAgICAgICAvLyBMb2cgdGhlIHRhc2tJZCBhbmQgdGFza0RpdiBoZXJlXG4gICAgICAgIGNvbnNvbGUubG9nKCdlZGl0aW5nIHRhc2ssIHRpdGxlOiAnICsgdGl0bGUgKyAnIGlkOiAnICsgdGFza0lkKTtcbiAgICAgICAgbGV0IHRhc2tEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXNrSWQpO1xuICAgIFxuICAgICAgICAvLyBVcGRhdGUgdGhlIHRhc2tEaXYncyB0ZXh0Q29udGVudCB0byByZWZsZWN0IHRoZSBuZXcgdmFsdWVzXG4gICAgICAgIHRhc2tEaXYucXVlcnlTZWxlY3RvcignLnRhc2tUaXRsZScpLnRleHRDb250ZW50ID0gdGl0bGU7XG4gICAgICAgIHRhc2tEaXYucXVlcnlTZWxlY3RvcignLnRhc2tDYXRlZ29yeScpLnRleHRDb250ZW50ID0gYCgke2NhdGVnb3J5T2JqZWN0Lm5hbWV9KWA7XG4gICAgICAgIHRhc2tEaXYucXVlcnlTZWxlY3RvcignLnRhc2tEdWVEYXRlJykudGV4dENvbnRlbnQgPSBmb3JtYXREYXRlRm9ySW5wdXQoZHVlRGF0ZSk7XG4gICAgICAgIGxldCB0YXNrUHJpb3JpdHlJbWcgPSB0YXNrRGl2LnF1ZXJ5U2VsZWN0b3IoJy5zeW1ib2wnKTtcbiAgICAgICAgICAgIGlmKGltcG9ydGFuY2UgPT0gXCJIaWdoZXN0XCIpe3Rhc2tQcmlvcml0eUltZy5zcmMgPSBcIi4vaW1hZ2VzL3dhcm5pbmctMzMzLnBuZ1wifVxuICAgICAgICAgICAgZWxzZSBpZihpbXBvcnRhbmNlID09IFwiSGlnaFwiKXt0YXNrUHJpb3JpdHlJbWcuc3JjID0gXCIuL2ltYWdlcy93YXJuaW5nLTIyMi5wbmdcIn1cbiAgICAgICAgICAgIGVsc2UgaWYoaW1wb3J0YW5jZSA9PSBcIk1lZGl1bVwiKXt0YXNrUHJpb3JpdHlJbWcuc3JjID0gXCIuL2ltYWdlcy93YXJuaW5nLTExMS5wbmdcIn1cbiAgICAgICAgICAgIGVsc2Uge3Rhc2tQcmlvcml0eUltZy5zcmMgPSBcIi4vaW1hZ2VzL3dhcm5pbmdfZ3JleS5wbmdcIn1cbiAgICBcbiAgICAgICAgZGVsZXRlIHRpdGxlSW5wdXQuZGF0YXNldC5lZGl0aW5nVGFza0lkO1xuICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuICAgIHNlbGVjdGVkVGltZWxpbmUgPSBudWxsO1xuICAgIHNlbGVjdGVkVGltZWxpbmVCdG4gPSBhbGxCdG47XG4gICAgc2VsZWN0VGltZUZpbHRlcihzZWxlY3RlZFRpbWVsaW5lLCBzZWxlY3RlZFRpbWVsaW5lQnRuKTtcbiAgICBzZWxlY3RlZENhdGVnb3J5ID0gY2F0ZWdvcnlTZWxlY3QudmFsdWU7XG4gICAgc2VsZWN0Q2F0RmlsdGVyKHNlbGVjdGVkQ2F0ZWdvcnkpO1xuICAgIHVwZGF0ZVBhZ2VUaXRsZShzZWxlY3RlZENhdGVnb3J5QnRuKTtcbiAgfSk7XG5cbiAgZGVsZXRlQnRuTW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIFxuICAgICAgLy8gR2V0IHRhc2tJZCBmcm9tIHRoZSBlZGl0aW5nVGFza0lkIGRhdGEgYXR0cmlidXRlXG4gICAgICBsZXQgdGFza0lkID0gdGl0bGVJbnB1dC5kYXRhc2V0LmVkaXRpbmdUYXNrSWQ7XG4gIFxuICAgICAgaWYgKCF0YXNrSWQpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnTm8gdGFzayBpcyBjdXJyZW50bHkgYmVpbmcgZWRpdGVkJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICBcbiAgICAgIGRlbGV0ZVRhc2sodGFza0lkKTtcbiAgfSk7ICAvLyAoaW5zaWRlIG1vZGFsKS4gT3V0c2lkZSBtb2RhbCBldiBsaXN0ZW5lciBpcyBpbnNpZGUgYWRkVGFza0RpdiBldmxpc3RlbmVyICdEZWxldGVCdG5CaWdEaXYnXG4gIHRpdGxlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbigpIHtcbiAgICAgIC8vIFJlbW92ZSB0aGUgZXJyb3IgY2xhc3Mgd2hlbiB0aGUgdGl0bGUgaW5wdXQgdmFsdWUgY2hhbmdlc1xuICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xuICB9KTtcbiAgZnVuY3Rpb24gZGVsZXRlVGFzayh0YXNrSWQpIHtcbiAgICAgIGlmICghY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHRhc2s/JykpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgdXNlciBjYW5jZWxzLCBqdXN0IGNsb3NlIHRoZSBtb2RhbFxuICAgICAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICBkZWxldGUgdGl0bGVJbnB1dC5kYXRhc2V0LmVkaXRpbmdUYXNrSWQ7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICBcbiAgICAgIGxldCB0YXNrRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFza0lkKTtcbiAgICAgIGlmICghdGFza0Rpdikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYE5vIHRhc2sgZGl2IGZvdW5kIHdpdGggaWQgJHt0YXNrSWR9YCk7XG4gICAgICAgICAgZGVsZXRlIHRpdGxlSW5wdXQuZGF0YXNldC5lZGl0aW5nVGFza0lkO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgXG4gICAgICAvLyBGaW5kIHRoZSB0YXNrIG9iamVjdCB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoaXMgdGFza0lkXG4gICAgICBsZXQgdGFza09iamVjdDtcbiAgICAgIGxldCB0YXNrQ2F0ZWdvcnk7XG4gICAgICBmb3IgKGxldCBjYXRlZ29yeSBvZiBjYXRlZ29yaWVzKSB7XG4gICAgICAgICAgdGFza09iamVjdCA9IGNhdGVnb3J5LnRhc2tzLmZpbmQoKHRhc2spID0+IHRhc2suaWQgPT0gdGFza0lkKTtcbiAgICAgICAgICBpZiAodGFza09iamVjdCkge1xuICAgICAgICAgICAgICB0YXNrQ2F0ZWdvcnkgPSBjYXRlZ29yeTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgfVxuICBcbiAgICAgIC8vIFJlbW92ZSB0aGUgdGFzayBmcm9tIHRoZSBjYXRlZ29yeSdzIHRhc2tzIGFycmF5XG4gICAgICB0YXNrQ2F0ZWdvcnkucmVtb3ZlVGFza0Zyb21DYXQodGFza0lkKTtcbiAgXG4gICAgICAvLyBVcGRhdGUgdGhlIHRhc2tDb3VudGVyXG4gICAgICB0YXNrQ291bnRlci0tO1xuICBcbiAgICAgIC8vIFVwZGF0ZSB0aGUgdGFza0NvdW50ZXJcbiAgICAgIHRhc2tDb3VudGVyID0gY2F0ZWdvcmllcy5yZWR1Y2UoKGNvdW50LCBjYXRlZ29yeSkgPT4gY291bnQgKyBjYXRlZ29yeS50YXNrcy5sZW5ndGgsIDApO1xuICBcbiAgICAgIC8vIERlbGV0ZSB0aGUgdGFza0NvbnRhaW5lckRpdlxuICAgICAgbGV0IHRhc2tDb250YWluZXJEaXYgPSB0YXNrRGl2LnBhcmVudE5vZGUucGFyZW50Tm9kZTtcbiAgICAgIHRhc2tDb250YWluZXJEaXYucmVtb3ZlKCk7IC8vIFJlbW92ZSB0YXNrQ29udGFpbmVyRGl2XG4gIFxuICAgICAgLy8gSGlkZSB0aGUgbW9kYWxcbiAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgXG4gICAgICAvLyBDbGVhciB0aGUgZWRpdGluZ1Rhc2tJZCBzaW5jZSB3ZSd2ZSBqdXN0IGRlbGV0ZWQgdGhlIHRhc2tcbiAgICAgIGRlbGV0ZSB0aXRsZUlucHV0LmRhdGFzZXQuZWRpdGluZ1Rhc2tJZDtcbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNhdEV2TGlzdGVuZXJzKCl7XG4gIG5ld0NhdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgY3VycmVudE1vZGUgPSAnbmV3JztcbiAgICAgIGNhdE1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICBjYXRUaXRsZS52YWx1ZSA9IFwiXCI7XG4gICAgICBjb2xvckRpc3BsYXkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyM4YTU5YjknO1xuICAgICAgY29uc29sZS5sb2coY29sb3JEaXNwbGF5LnN0eWxlLmJhY2tncm91bmRDb2xvcik7XG5cbiAgIH0pO1xuICAgb2tDYXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIFByZXZlbnQgdGhlIGZvcm0gZnJvbSBzdWJtaXR0aW5nXG5cbiAgICAgICBpZiAoY3VycmVudE1vZGUgPT09ICduZXcnKSB7XG5cbiAgICAgICAgICAgLy8gR2V0IHRoZSBjYXRlZ29yeSBuYW1lIGFuZCBjb2xvciBmcm9tIHRoZSBmb3JtIGlucHV0c1xuICAgICAgICAgICBsZXQgY2F0VGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2F0VGl0bGUnKS52YWx1ZTtcbiAgICAgICAgICAgbGV0IGNhdENvbG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbG9yUGlja2VyJykudmFsdWU7XG5cbiAgICAgICAgICAgLy9TZXQgZGVmYXVsdCBjYXQgY29sb3IgcGlja2VyXG4gICAgICAgICAgIGNhdENvbG9yID0gY29sb3JEaXNwbGF5LnN0eWxlLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgY29uc29sZS5sb2coY2F0Q29sb3IpO1xuICAgXG4gICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBjYXRlZ29yeSBpbnN0YW5jZVxuICAgICAgICAgICBsZXQgbmV3Q2F0ZWdvcnkgPSBuZXcgQ2F0ZWdvcnkoY2F0VGl0bGUsIGNhdENvbG9yKTtcbiAgICAgICAgICAgY2F0ZWdvcmllcy5wdXNoKG5ld0NhdGVnb3J5KTtcbiAgIFxuICAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgbGlzdCBpdGVtXG4gICAgICAgICAgIGxldCBuZXdDYXRlZ29yeUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICAgICBsZXQgbmV3QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgIG5ld0J1dHRvbi5pbm5lclRleHQgPSBjYXRUaXRsZTtcbiAgICAgICAgICAgbmV3QnV0dG9uLmlkID0gY2F0VGl0bGU7XG4gICAgICAgICAgIG5ld0J1dHRvbi5jbGFzc0xpc3QuYWRkKCdjYXRCdG5zJyk7XG4gICAgICAgICAgIG5ld0J1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjYXRDb2xvcjtcbiAgICAgICAgICAgbmV3QnV0dG9uLmRhdGFzZXQuY2F0SWQgPSBuZXdDYXRlZ29yeS5jYXRJZDtcbiAgIFxuICAgICAgICAgICBpZiAoaXNEYXJrQ29sb3IoY2F0Q29sb3IpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYXRDb2xvcik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZGFyaycpO1xuICAgICAgICAgICAgbmV3QnV0dG9uLnN0eWxlLmNvbG9yID0gJ3doaXRlJztcbiAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhdENvbG9yKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsaWdodCcpO1xuICAgICAgICAgICAgbmV3QnV0dG9uLnN0eWxlLmNvbG9yID0gJ2JsYWNrJztcbiAgICAgICAgICAgfVxuICAgICAgICAgICBcbiAgICAgICAgbmV3Q2F0ZWdvcnlFbGVtZW50LmFwcGVuZENoaWxkKG5ld0J1dHRvbik7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXRlZ29yaWVzTGlzdCcpLmFwcGVuZENoaWxkKG5ld0NhdGVnb3J5RWxlbWVudCk7XG4gICAgICAgIGluaXRpYWxpemVDYXRGaWx0ZXJFdkxpc3RlbmVycygpO1xuICAgICAgIH0gZWxzZSBpZiAoY3VycmVudE1vZGUgPT09ICdlZGl0Jykge1xuICAgICAgICAgICAvL1JldHJpZXZlIHRoZSBjYXRlZ29yeSBmcm9tIHRoZSBjYXRlZ29yaWVzIGFycmF5IGJhc2VkIG9uIHRoZSBjYXRJRFxuICAgICAgICAgICBjb25zb2xlLmxvZyhjYXRJRCk7XG4gICAgICAgICAgIGlmICh0eXBlb2YgY2F0SUQgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2NhdElkIGlzIG5vdCBhIG51bWJlciBhdCBbZGVzY3JpcHRpb24gb2YgdGhlIGNvZGUgbG9jYXRpb25dJywgY2F0SUQpO1xuICAgICAgICAgICB9XG4gICAgICAgICAgIGxldCBlZGl0aW5nQ2F0ZWdvcnkgPSBjYXRlZ29yaWVzLmZpbmQoY2F0ID0+IGNhdC5jYXRJZCA9PT0gY2F0SUQpO1xuICAgICAgIFxuICAgICAgICAgICAvL1VwZGF0ZSB0aGUgY2F0ZWdvcnkgdmFsdWVzXG4gICAgICAgICAgIGlmIChlZGl0aW5nQ2F0ZWdvcnkpIHtcbiAgICAgICAgICAgICAgIGVkaXRpbmdDYXRlZ29yeS5uYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhdFRpdGxlJykudmFsdWU7XG4gICAgICAgICAgICAgICBlZGl0aW5nQ2F0ZWdvcnkuY29sb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sb3JQaWNrZXInKS52YWx1ZTtcbiAgICAgICBcbiAgICAgICAgICAgICAgIC8vVXBkYXRlIHRoZSBVSSBlbGVtZW50IChidXR0b24gaW4gdGhpcyBjYXNlKSByZXByZXNlbnRpbmcgdGhlIGNhdGVnb3J5XG4gICAgICAgICAgICAgICBsZXQgYXNzb2NpYXRlZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGJ1dHRvbltkYXRhLWNhdC1pZD1cIiR7Y2F0SUR9XCJdYCk7XG4gICAgICAgICAgICAgICBpZiAoYXNzb2NpYXRlZEJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgIGFzc29jaWF0ZWRCdXR0b24uaW5uZXJUZXh0ID0gZWRpdGluZ0NhdGVnb3J5Lm5hbWU7XG4gICAgICAgICAgICAgICAgICAgYXNzb2NpYXRlZEJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBlZGl0aW5nQ2F0ZWdvcnkuY29sb3I7XG4gICAgICAgXG4gICAgICAgICAgICAgICAgICAgLy9DaGVjayBjb2xvciBicmlnaHRuZXNzIHRvIGFkanVzdCB0ZXh0IGNvbG9yIGZvciBiZXR0ZXIgdmlzaWJpbGl0eVxuICAgICAgICAgICAgICAgICAgIGlmIChpc0RhcmtDb2xvcihlZGl0aW5nQ2F0ZWdvcnkuY29sb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgIGFzc29jaWF0ZWRCdXR0b24uc3R5bGUuY29sb3IgPSAnd2hpdGUnO1xuICAgICAgICAgICAgICAgICAgICAgICBwYWdlVGl0bGUuc3R5bGUuY29sb3IgPSAnd2hpdGUnO1xuICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwYWdlVGl0bGUuc3R5bGUuY29sb3IpO1xuICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgIGFzc29jaWF0ZWRCdXR0b24uc3R5bGUuY29sb3IgPSAnYmxhY2snO1xuICAgICAgICAgICAgICAgICAgICAgICBwYWdlVGl0bGUuc3R5bGUuY29sb3IgPSAnYmxhY2snO1xuICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwYWdlVGl0bGUuc3R5bGUuY29sb3IpO1xuICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NvdWxkIG5vdCBmaW5kIGNhdGVnb3J5IHdpdGggSUQ6JywgY2F0SUQpO1xuICAgICAgICAgICB9XG5cbiAgICAgICAgICAgLy9VcGRhdGUgcGFnZSB0aXRsZVxuICAgICAgICAgICBwYWdlVGl0bGUuaW5uZXJIVE1MID0gY2F0VGl0bGUudmFsdWU7XG4gICAgICAgICAgIGNvbnNvbGUubG9nKGNvbG9yUGlja2VyLnZhbHVlKTtcbiAgICAgICAgICAgcGFnZVRpdGxlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yUGlja2VyLnZhbHVlO1xuICAgICAgIH1cbiAgICAgICB1cGRhdGVDYXRlZ29yeURyb3Bkb3duKCk7XG4gICBcbiAgICAgICBjYXRNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICBcbiAgICAgICAvLyBIZWxwZXIgRnVuY3Rpb25cbiAgICAgICBmdW5jdGlvbiB1cGRhdGVDYXRlZ29yeURyb3Bkb3duKCkge1xuICAgICAgICAgICAvLyBDbGVhciBhbnkgZXhpc3Rpbmcgb3B0aW9uc1xuICAgICAgICAgICBsZXQgY2F0ZWdvcnlTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2F0ZWdvcnknKTtcbiAgICAgICAgICAgd2hpbGUgKGNhdGVnb3J5U2VsZWN0LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgIGNhdGVnb3J5U2VsZWN0LnJlbW92ZUNoaWxkKGNhdGVnb3J5U2VsZWN0LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICB9XG4gICAgICAgICAgIC8vIEFkZCBuZXcgb3B0aW9ucyBiYXNlZCBvbiB0aGUgY2F0ZWdvcmllcyBhcnJheVxuICAgICAgICAgICBjYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgICAgICAgICAgbGV0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gY2F0ZWdvcnkubmFtZTtcbiAgICAgICAgICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGNhdGVnb3J5Lm5hbWU7XG4gICAgICAgICAgICAgICBjYXRlZ29yeVNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICAgICB9KTtcbiAgICAgICB9XG4gICB9KTtcbiAgIGNhbmNlbENhdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7ICAgIFxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY2F0TW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG4gICB9KTtcbiAgIHBhZ2VUaXRsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgY2F0SUQgPSBwYXJzZUludCh0aGlzLmRhdGFzZXQuY2F0SWQpO1xuICAgICAgIGN1cnJlbnRNb2RlID0gJ2VkaXQnO1xuICAgICAgIG9wZW5DYXRNb2RhbEZvckVkaXRpbmcocGFnZVRpdGxlLCBjYXRJRCk7XG4gICAgICAgZnVuY3Rpb24gb3BlbkNhdE1vZGFsRm9yRWRpdGluZyhwYWdlVGl0bGUsIGNhdElEKXtcbiAgICAgICAgICAgbGV0IGNhdFRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhdFRpdGxlJyk7XG4gICAgICAgICAgIGxldCBjb2xvckRpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sb3JEaXNwbGF5Jyk7XG4gICAgICAgXG4gICAgICAgICAgIC8vIFNldCB0aGUgZm9ybSBpbnB1dHMgdG8gdGhlIHRhc2sncyB2YWx1ZXNcbiAgICAgICAgICAgY2F0VGl0bGUudmFsdWUgPSBwYWdlVGl0bGUudGV4dENvbnRlbnQ7XG4gICAgICAgICAgIGNvbG9yRGlzcGxheS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBwYWdlVGl0bGUuc3R5bGUuYmFja2dyb3VuZENvbG9yO1xuICAgICAgICAgICBcbiAgICAgICAgICAgLy8gU2hvdyB0aGUgbW9kYWxcbiAgICAgICAgICAgY2F0TW9kYWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICB9XG4gICB9KTtcbiAgIGNvbG9yRGlzcGxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIC8vIEdldCB0aGUgUkdCIGNvbG9yICYgY29udmVydCB0byBoZXguIFRoZW4gc2V0IHRoZSBjb2xvclBpY2tlciB2YWx1ZSB0byB0aGUgaGV4XG4gICAgbGV0IHJnYkNvbG9yID0gY29sb3JEaXNwbGF5LnN0eWxlLmJhY2tncm91bmRDb2xvcjtcbiAgICBsZXQgaGV4Q29sb3IgPSByZ2JUb0hleChyZ2JDb2xvcik7XG4gICAgY29sb3JQaWNrZXIudmFsdWUgPSBoZXhDb2xvcjtcbiAgICBjb2xvclBpY2tlci5jbGljaygpO1xuICAgICAgXG4gICAgfSk7XG4gICBjb2xvclBpY2tlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uKCkgeyAgICAgLy8gV2hlbiB5b3UgcGljayBhIGNvbG9yLCB1cGRhdGUgdGhlIGRpc3BsYXlcbiAgICAgIGNvbG9yRGlzcGxheS5zdHlsZS5iYWNrZ3JvdW5kID0gY29sb3JQaWNrZXIudmFsdWU7XG4gICAgfSk7XG59O1xuZXhwb3J0IGZ1bmN0aW9uIHNldERlZmF1bHRGaWx0ZXJzKCl7XG4gIHNlbGVjdGVkQ2F0ZWdvcnlCdG4uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWRGaWx0ZXInKVxuICBzZWxlY3RlZFRpbWVsaW5lQnRuLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkRmlsdGVyJylcbiAgdXBkYXRlUGFnZVRpdGxlKHNlbGVjdGVkQ2F0ZWdvcnlCdG4pO1xuICB1cGRhdGVQYWdlVGFza3Moc2VsZWN0ZWRUaW1lbGluZSwgc2VsZWN0ZWRDYXRlZ29yeSk7XG59O1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVGaWx0ZXJFdkxpc3RlbmVycygpe1xuICAvL1RpbWVsaW5lIGJ1dHRvbnMgZXZlbnQgbGlzdGVuZXJzXG4gIHRvZGF5QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIHNlbGVjdGVkVGltZWxpbmUgPSB0b2RheTtcbiAgICBzZWxlY3RlZFRpbWVsaW5lQnRuID0gdG9kYXlCdG47XG4gICAgc2VsZWN0VGltZUZpbHRlcihzZWxlY3RlZFRpbWVsaW5lLCBzZWxlY3RlZFRpbWVsaW5lQnRuKTtcbiAgICBwYWdlVGltZWxpbmUudGV4dENvbnRlbnQgPSB0aGlzLnRleHRDb250ZW50O1xuXG59KTtcbiAgdGhpc1dlZWtCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBvbmVXZWVrTGF0ZXIgPSBuZXcgRGF0ZSgpO1xuICAgICAgb25lV2Vla0xhdGVyLnNldERhdGUodG9kYXkuZ2V0RGF0ZSgpICsgNyk7XG4gICAgICBzZWxlY3RlZFRpbWVsaW5lID0gb25lV2Vla0xhdGVyO1xuICAgICAgc2VsZWN0ZWRUaW1lbGluZUJ0biA9IHRoaXNXZWVrQnRuO1xuICAgICAgc2VsZWN0VGltZUZpbHRlcihzZWxlY3RlZFRpbWVsaW5lLCBzZWxlY3RlZFRpbWVsaW5lQnRuKTtcbiAgICAgIHBhZ2VUaW1lbGluZS50ZXh0Q29udGVudCA9IHRoaXMudGV4dENvbnRlbnQ7XG4gIH0pO1xuICB0aGlzTW9udGhCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBvbmVNb250aExhdGVyID0gbmV3IERhdGUoKTtcbiAgICAgIG9uZU1vbnRoTGF0ZXIuc2V0RGF0ZSh0b2RheS5nZXREYXRlKCkgKyAzMCk7XG4gICAgICBzZWxlY3RlZFRpbWVsaW5lID0gb25lTW9udGhMYXRlcjtcbiAgICAgIHNlbGVjdGVkVGltZWxpbmVCdG4gPSB0aGlzTW9udGhCdG47XG4gICAgICBzZWxlY3RUaW1lRmlsdGVyKHNlbGVjdGVkVGltZWxpbmUsIHNlbGVjdGVkVGltZWxpbmVCdG4pO1xuICAgICAgcGFnZVRpbWVsaW5lLnRleHRDb250ZW50ID0gdGhpcy50ZXh0Q29udGVudDtcbiAgfSk7XG4gIGFsbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNlbGVjdGVkVGltZWxpbmUgPSBudWxsO1xuICAgICAgc2VsZWN0ZWRUaW1lbGluZUJ0biA9IGFsbEJ0bjtcbiAgICAgIHNlbGVjdFRpbWVGaWx0ZXIoc2VsZWN0ZWRUaW1lbGluZSwgc2VsZWN0ZWRUaW1lbGluZUJ0bik7XG4gICAgICBwYWdlVGltZWxpbmUudGV4dENvbnRlbnQgPSB0aGlzLnRleHRDb250ZW50O1xuICB9KTtcbn07XG5leHBvcnQgZnVuY3Rpb24gY2F0RmlsdGVyRXZMaXN0ZW5lcnMoKXtcbiAgLy9SZXNlbGVjdCBjYXRlZ29yeSBidXR0b25zIHRvIHBpY2sgdXAgYW55IG5ld2x5IGFkZGVkIG9uZSAgXG4gIGNhdGVnb3J5QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXRCdG5zJyk7IFxuICBjYXRlZ29yeUJ1dHRvbnMuZm9yRWFjaCgoY2F0QnRuKSA9PiB7XG4gICAgY2F0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFNldCBzZWxlY3RlZENhdGVnb3J5IHRvIHRoZSBjbGlja2VkIGJ1dHRvbidzIHRleHQgY29udGVudFxuICAgICAgICBzZWxlY3RlZENhdGVnb3J5ID0gdGhpcy50ZXh0Q29udGVudDtcbiAgICAgICAgY2F0SUQgPSBwYXJzZUludCh0aGlzLmRhdGFzZXQuY2F0SWQpO1xuICAgICAgICBzZWxlY3RDYXRGaWx0ZXIoc2VsZWN0ZWRDYXRlZ29yeSk7XG4gICAgfSk7XG4gIH0pOyBcbn1cbmV4cG9ydCBmdW5jdGlvbiBkaXNwbGF5U2V0dGluZ3MoKXtcbiAgY29sbGFwc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHsgLy8gTmF2IENvbGxhcHNlICYgRXhwYW5kXG4gICAgICBjb25zdCBuYXZEaXNwbGF5U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShuYXYpLmRpc3BsYXk7XG4gICAgICBjb25zdCBzY3JlZW5XaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgY29uc3QgaXNTbWFsbFNjcmVlbiA9IHNjcmVlbldpZHRoIDwgNzUwO1xuICAgIFxuICAgICAgaWYgKGlzU21hbGxTY3JlZW4pIHtcbiAgICAgICAgaWYgKG5hdkRpc3BsYXlTdHlsZSA9PT0gJ25vbmUnKSB7XG4gICAgICAgICAgbmF2LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgIG5hdi5zdHlsZS56SW5kZXggPSAnMic7XG4gICAgICAgICAgY29udGVudC5zdHlsZS5ncmlkQ29sdW1uID0gJzEgLyAzJztcbiAgICAgICAgICBjb250ZW50LmNsYXNzTGlzdC5hZGQoJ292ZXJsYXknKTtcbiAgICAgICAgICBjb2xsYXBzZUJ0bi5zcmMgPSAnLi9pbWFnZXMvY29sbGFwc2UzLnBuZyc7XG4gICAgICAgIC8vICAgY29sbGFwc2VCdG4uc3R5bGUubWFyZ2luTGVmdCA9ICcxNDBweCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmF2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgbmF2LnN0eWxlLnpJbmRleCA9ICcnO1xuICAgICAgICAgIGNvbnRlbnQuc3R5bGUuZ3JpZENvbHVtbiA9ICcxIC8gLTEnO1xuICAgICAgICAgIGNvbnRlbnQuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmxheScpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdleHBhbmQnKTtcbiAgICAgICAgICBjb2xsYXBzZUJ0bi5zcmMgPSAnLi9pbWFnZXMvZXhwYW5kMy5wbmcnO1xuICAgICAgICAvLyAgIGNvbGxhcHNlQnRuLnN0eWxlLm1hcmdpbkxlZnQgPSAnMTJweCc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChuYXZEaXNwbGF5U3R5bGUgPT09ICdub25lJykge1xuICAgICAgICAgIG5hdi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICBuYXYuc3R5bGUuekluZGV4ID0gJyc7XG4gICAgICAgICAgY29udGVudC5zdHlsZS5ncmlkQ29sdW1uID0gJzIvMyc7XG4gICAgICAgICAgY29udGVudC5jbGFzc0xpc3QucmVtb3ZlKCdvdmVybGF5Jyk7XG4gICAgICAgICAgY29sbGFwc2VCdG4uc3JjID0gJy4vaW1hZ2VzL2NvbGxhcHNlMy5wbmcnO1xuICAgICAgICAvLyAgIGNvbGxhcHNlQnRuLnN0eWxlLm1hcmdpbkxlZnQgPSAnMjQwcHgnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5hdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgIG5hdi5zdHlsZS56SW5kZXggPSAnJztcbiAgICAgICAgICBjb250ZW50LnN0eWxlLmdyaWRDb2x1bW4gPSAnMSAvIC0xJztcbiAgICAgICAgICBjb250ZW50LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJsYXknKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnZXhwYW5kJyk7XG4gICAgICAgICAgY29sbGFwc2VCdG4uc3JjID0gJy4vaW1hZ2VzL2V4cGFuZDMucG5nJztcbiAgICAgICAgLy8gICBjb2xsYXBzZUJ0bi5zdHlsZS5tYXJnaW5MZWZ0ID0gJzEycHgnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIHNwYW4ub25jbGljayA9IGZ1bmN0aW9uKCkgeyAvLyBDbG9zZXMgdGFzayBtb2RhbCBvbiBjbGlja2luZyBYXG4gICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICBkZWxldGUgdGl0bGVJbnB1dC5kYXRhc2V0LmVkaXRpbmdUYXNrSWQ7XG4gIH07IFxuICBzcGFuQ2F0TW9kYWwub25jbGljayA9IGZ1bmN0aW9uKCkgeyAvLyBDbG9zZXMgY2F0bW9kYWwgb24gY2xpY2tpbmcgWFxuICAgICAgY2F0TW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICB9ICAgICBcbiAgd2luZG93Lm9uY2xpY2sgPSBmdW5jdGlvbihldmVudCkgeyAvLyBDbG9zZXMgTW9kYWxzIHdoZW4gY2xpY2tpbmcgb3V0c2lkZSBvZiBpdCBcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT0gbW9kYWwpIHtcbiAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgfSBlbHNlIGlmKGV2ZW50LnRhcmdldCA9PSBjYXRNb2RhbCkge1xuICAgICAgICAgIGNhdE1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgfVxuICB9XG4gIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7IC8vIEVudGVyIGFjdHMgYXMgYSBjbGlja1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgXG4gICAgICAgICAgb2tUYXNrQnRuLmNsaWNrKCk7IFxuICAgICAgfVxuICB9KTtcbiAgXG59O1xuXG5mdW5jdGlvbiBzZWxlY3RDYXRGaWx0ZXIoc2VsZWN0ZWRDYXRlZ29yeSl7XG4gICAgLy8gUmVtb3ZlICdzZWxlY3RlZEZpbHRlcicgY2xhc3MgZnJvbSBhbGwgY2F0ZWdvcnkgYnV0dG9uc1xuICAgIGNhdGVnb3J5QnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkRmlsdGVyJyk7XG4gICAgfSk7XG5cbiAgICAvLyBHZXQgYW5kIGFkZCAnc2VsZWN0ZWRGaWx0ZXInIGNsYXNzIHRvIHRoZSBjbGlja2VkIGJ1dHRvblxuICAgIHNlbGVjdGVkQ2F0ZWdvcnlCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWxlY3RlZENhdGVnb3J5KTtcbiAgICBzZWxlY3RlZENhdGVnb3J5QnRuLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkRmlsdGVyJyk7XG5cbiAgICAvLyBVcGRhdGUgUGFnZVxuICAgIHVwZGF0ZVBhZ2VUaXRsZShzZWxlY3RlZENhdGVnb3J5QnRuKTtcbiAgICB1cGRhdGVQYWdlVGFza3Moc2VsZWN0ZWRUaW1lbGluZSwgc2VsZWN0ZWRDYXRlZ29yeSk7XG4gICAgcmV0dXJuIHNlbGVjdGVkQ2F0ZWdvcnlCdG47XG59XG5cbmZ1bmN0aW9uIHNlbGVjdFRpbWVGaWx0ZXIoc2VsZWN0ZWRUaW1lbGluZSwgc2VsZWN0ZWRUaW1lbGluZUJ0bil7XG4gICAgY29uc29sZS5sb2coc2VsZWN0ZWRUaW1lbGluZUJ0bik7XG4gICAgLy8gUmVtb3ZlICdzZWxlY3RlZEZpbHRlcicgY2xhc3MgZnJvbSBhbGwgdGltZWxpbmUgYnV0dG9uc1xuICAgIHRpbWVsaW5lQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkRmlsdGVyJyk7XG4gICAgfSk7XG5cbiAgICAvLyBVcGRhdGUgUGFnZVxuICAgIHVwZGF0ZVBhZ2VUaXRsZShzZWxlY3RlZENhdGVnb3J5QnRuKTtcbiAgICB1cGRhdGVQYWdlVGFza3Moc2VsZWN0ZWRUaW1lbGluZSwgc2VsZWN0ZWRDYXRlZ29yeSk7XG4gICAgXG4gICAgc2VsZWN0ZWRUaW1lbGluZUJ0bi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZEZpbHRlcicpO1xuICAgIHJldHVybiBzZWxlY3RlZFRpbWVsaW5lQnRuO1xufVxuXG5zb3J0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgaWYoc29ydE9wdGlvbnMuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKXtcbiAgICBzb3J0T3B0aW9ucy5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIHNvcnRCdG4uc3R5bGUuYm9yZGVyUmFkaXVzID0gJzVweCA1cHggMHB4IDBweCc7XG5cbiAgICB9ZWxzZSB7XG4gICAgICAgIHNvcnRPcHRpb25zLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7IFxuICAgICAgICBzb3J0QnRuLnN0eWxlLmJvcmRlclJhZGl1cyA9ICcnO1xuICAgIH1cbn0pO1xuXG5kYXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgc29ydCgnZGF0ZScpO1xufSk7XG5cbmltcG9ydGFuY2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBzb3J0KCdwcmlvcml0eScpO1xufSk7XG4iLCJpbXBvcnQge2NhdGVnb3J5QnV0dG9uc30gZnJvbSAnLi9kb21FbGVtZW50cyc7XG5pbXBvcnQgeyB0YXNrQ291bnRlciB9IGZyb20gJy4vdGFza0Z1bmN0aW9ucyc7XG5cbmV4cG9ydCBjbGFzcyBDYXRlZ29yeSB7XG4gICAgY29uc3RydWN0b3IobmFtZSwgY29sb3IsIGNhdElkID0gbnVsbCkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMudGFza3MgPSBbXTtcbiAgICAgICAgdGhpcy5jYXRJZCA9IGNhdElkIHx8ICsrbGFzdENhdElkO1xuICAgIH1cbiAgICBhZGRUYXNrVG9DYXQodGFzaykge1xuICAgICAgICB0aGlzLnRhc2tzLnB1c2godGFzayk7XG4gICAgICAgIC8vIFNldCB0aGUgdGFzaydzIElEIHRvIG1hdGNoIHRoZSBjb3JyZWN0IGNvdW50ZXIgdmFsdWVcbiAgICAgICAgdGFzay5pZCA9IHRhc2tDb3VudGVyO1xuICAgICAgICB0YXNrQ291bnRlcisrO1xuICAgIH1cbiAgICByZW1vdmVUYXNrRnJvbUNhdCh0YXNrSWQpIHtcbiAgICAgICAgdGhpcy50YXNrcyA9IHRoaXMudGFza3MuZmlsdGVyKHRhc2sgPT4gdGFzay5pZCAhPT0gdGFza0lkKTtcbiAgICB9XG59XG5cbmxldCBsYXN0Q2F0SWQgPSBNYXRoLm1heCguLi5BcnJheS5mcm9tKGNhdGVnb3J5QnV0dG9ucykubWFwKGJ0biA9PiBwYXJzZUludChidG4uZGF0YXNldC5jYXRJZCkpKTtcbmxldCBkZWZhdWx0Q2F0ZWdvcmllcyA9IGluaXRpYWxpemVEZWZhdWx0Q2F0ZWdvcmllcygpO1xubGV0IGNhdGVnb3JpZXMgPSBbLi4uZGVmYXVsdENhdGVnb3JpZXNdOyBcblxuLy9DaGVja3MgaWYgd2UgYXJlIGVkZGl0aW5nIG9yIGNyZWF0aW5nIGEgbmV3IGNhdCAgXG5sZXQgY3VycmVudE1vZGUgPSBudWxsO1xubGV0IGNhdElEO1xuXG5mdW5jdGlvbiBpbml0aWFsaXplRGVmYXVsdENhdGVnb3JpZXMoKSB7XG4gICAgY29uc3QgY2F0ZWdvcnlCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhdGVnb3JpZXNEaXYgYnV0dG9uJyk7XG4gICAgbGV0IGNhdGVnb3JpZXMgPSBBcnJheS5mcm9tKGNhdGVnb3J5QnV0dG9ucykubWFwKGJ1dHRvbiA9PiB7XG4gICAgICAgIGxldCBjYXRJZCA9IHBhcnNlSW50KGJ1dHRvbi5kYXRhc2V0LmNhdElkKTsgXG4gICAgICAgIGlmIChjYXRJZCA+IGxhc3RDYXRJZCkgbGFzdENhdElkID0gY2F0SWQ7XG4gICAgICAgIHJldHVybiBuZXcgQ2F0ZWdvcnkoYnV0dG9uLnRleHRDb250ZW50LnRyaW0oKSwgbnVsbCwgY2F0SWQpOyAvLyBQYXNzaW5nIGNhdElkIHRvIHRoZSBjb25zdHJ1Y3RvclxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNhdGVnb3JpZXM7XG59IFxuXG5leHBvcnQge2NhdGVnb3JpZXMsIGNhdElELCBjdXJyZW50TW9kZX07IiwiaW1wb3J0IHsgY2F0ZWdvcmllcyB9IGZyb20gJy4vY2F0ZWdvcnlGdW5jdGlvbnMnO1xuXG5sZXQgdGFza0NvdW50ZXIgPSAwO1xuXG5leHBvcnQgY2xhc3MgVGFzayB7XG4gICAgY29uc3RydWN0b3IoaWQsIHRpdGxlLCBjYXRlZ29yeU9iamVjdCwgZHVlRGF0ZSwgcHJpb3JpdHksIGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgICAgICB0aGlzLmNhdGVnb3J5ID0gY2F0ZWdvcnlPYmplY3RcbiAgICAgICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMuY29tcGxldGUgPSBmYWxzZTsgXG4gICAgfVxuICAgIHRvZ2dsZUNvbXBsZXRlKCkge1xuICAgICAgICB0aGlzLmNvbXBsZXRlID0gIXRoaXMuY29tcGxldGU7XG4gICAgfVxufVxuXG5leHBvcnQge3Rhc2tDb3VudGVyfTtcblxuXG4iLCJpbXBvcnQge1Rhc2t9IGZyb20nLi90YXNrRnVuY3Rpb25zJztcbmltcG9ydCB7Q2F0ZWdvcnl9IGZyb20nLi9jYXRlZ29yeUZ1bmN0aW9ucyc7XG5pbXBvcnQge3Rhc2tFdkxpc3RlbmVycywgc2V0RGVmYXVsdEZpbHRlcnMsIHRpbWVGaWx0ZXJFdkxpc3RlbmVycywgY2F0RmlsdGVyRXZMaXN0ZW5lcnMsY2F0RXZMaXN0ZW5lcnMsIGRpc3BsYXlTZXR0aW5nc30gZnJvbSAnLi9kb21FbGVtZW50cyc7XG5pbXBvcnQge2NvbnRlbnQsIG5hdixtb2RhbCxzcGFuLGNhdE1vZGFsLHNwYW5DYXRNb2RhbCx0YXNrc0NvbnRhaW5lcixmb3JtLHBhZ2VUaXRsZSxjb2xsYXBzZUJ0bixjcmVhdGVUYXNrQnRuLG9rVGFza0J0bixjYW5jZWxUYXNrQnRuLGRlbGV0ZUJ0bk1vZGFsLG5ld0NhdEJ0bixva0NhdEJ0bixjYW5jZWxDYXRCdG4saW5ib3hCdG4scmVzcG9uc2liaWxpdGllc0J0bixldmVudHNCdG4scHJvZ3JhbW1pbmdCdG4sdGl0bGVJbnB1dCxjYXRlZ29yeVNlbGVjdCxkdWVEYXRlU2VsZWN0LHByaW9yaXR5U2VsZWN0LGRlc2NyaXB0aW9uSW5wdXQsY2F0ZWdvcnlCdXR0b25zLGFsbEJ0biwgdG9kYXlCdG4sIHRoaXNXZWVrQnRuLCB0aGlzTW9udGhCdG4sIHBhZ2VUaW1lbGluZSwgY29sb3JQaWNrZXIsIGNvbG9yRGlzcGxheX0gZnJvbSAnLi9kb21FbGVtZW50cyc7XG5cbnRhc2tFdkxpc3RlbmVycygpO1xuY2F0RXZMaXN0ZW5lcnMoKTtcbnNldERlZmF1bHRGaWx0ZXJzKCk7XG50aW1lRmlsdGVyRXZMaXN0ZW5lcnMoKTtcbmNhdEZpbHRlckV2TGlzdGVuZXJzKCk7XG5kaXNwbGF5U2V0dGluZ3MoKTtcblxuIl0sIm5hbWVzIjpbImlzRGFya0NvbG9yIiwiY29sb3IiLCJyZ2IiLCJzdGFydHNXaXRoIiwiciIsInBhcnNlSW50Iiwic2xpY2UiLCJnIiwiYiIsInZhbHVlcyIsInN1YnN0cmluZyIsImxlbmd0aCIsInNwbGl0IiwiYnJpZ2h0bmVzcyIsIk1hdGgiLCJyb3VuZCIsImNvbnNvbGUiLCJsb2ciLCJmb3JtYXREYXRlRm9ySW5wdXQiLCJkYXRlU3RyaW5nIiwiZGF0ZSIsIkRhdGUiLCJvZmZzZXQiLCJnZXRUaW1lem9uZU9mZnNldCIsInNldE1pbnV0ZXMiLCJnZXRNaW51dGVzIiwiU3RyaW5nIiwiZ2V0TW9udGgiLCJwYWRTdGFydCIsImdldERhdGUiLCJnZXRGdWxsWWVhciIsInVwZGF0ZVBhZ2VUaXRsZSIsInNlbGVjdGVkQ2F0ZWdvcnlCdG4iLCJwYWdlVGl0bGUiLCJ0ZXh0Q29udGVudCIsInNlbGVjdGVkQ2F0QnRuIiwid2luZG93IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImJnQ29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJmb250Q29sb3IiLCJzdHlsZSIsImRhdGFzZXQiLCJjYXRJZCIsInVwZGF0ZVBhZ2VUYXNrcyIsInNlbGVjdGVkVGltZWxpbmUiLCJzZWxlY3RlZENhdGVnb3J5IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsInRhc2tDb250YWluZXJEaXYiLCJ0YXNrIiwidGFza0lkIiwiY2F0ZWdvcnkiLCJjYXRlZ29yaWVzIiwidGFza3MiLCJmaW5kIiwiaWQiLCJnZXRUYXNrQnlJZCIsInF1ZXJ5U2VsZWN0b3IiLCJ0YXNrRHVlRGF0ZSIsImR1ZURhdGUiLCJzZXRIb3VycyIsInRhc2tDYXRlZ29yeSIsIm5hbWUiLCJkaXNwbGF5Iiwic29ydCIsInNvcnRPcHRpb24iLCJ0YXNrRGl2QXJyYXkiLCJnZXRQcmlvcml0eVZhbHVlIiwidGFza1ByaW9yaXR5IiwidGFza0RpdiIsImlubmVySFRNTCIsInRhc2tEYXRhIiwiZ2V0VGFza0RhdGEiLCJwdXNoIiwiYSIsImNvbnRlbnQiLCJuYXYiLCJtb2RhbCIsImNhdE1vZGFsIiwidGFza3NDb250YWluZXIiLCJjb2xsYXBzZUJ0biIsImdldEVsZW1lbnRCeUlkIiwic29ydE9wdGlvbnMiLCJzb3J0QnRuIiwiZGF0ZUJ0biIsImltcG9ydGFuY2VCdG4iLCJjcmVhdGVUYXNrQnRuIiwib2tUYXNrQnRuIiwiY2FuY2VsVGFza0J0biIsImRlbGV0ZUJ0bk1vZGFsIiwibmV3Q2F0QnRuIiwib2tDYXRCdG4iLCJjYW5jZWxDYXRCdG4iLCJjb2xvclBpY2tlciIsImNvbG9yRGlzcGxheSIsImFsbEJ0biIsInRvZGF5QnRuIiwidGhpc1dlZWtCdG4iLCJ0aGlzTW9udGhCdG4iLCJwYWdlVGltZWxpbmUiLCJzcGFuIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInNwYW5DYXRNb2RhbCIsInRpdGxlSW5wdXQiLCJjYXRlZ29yeVNlbGVjdCIsImR1ZURhdGVTZWxlY3QiLCJwcmlvcml0eVNlbGVjdCIsImRlc2NyaXB0aW9uSW5wdXQiLCJjYXRlZ29yeUJ1dHRvbnMiLCJ0aW1lbGluZUJ1dHRvbnMiLCJzZWxlY3RlZFRpbWVsaW5lQnRuIiwidG9kYXkiLCJnZXRDdXJyZW50RGF0ZSIsInNlbGVjdENhdEZpbHRlciIsImJ1dHRvbiIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsInNlbGVjdFRpbWVGaWx0ZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiYm9yZGVyUmFkaXVzIiwiQ2F0ZWdvcnkiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJsYXN0Q2F0SWQiLCJhZGRUYXNrVG9DYXQiLCJ0YXNrQ291bnRlciIsInJlbW92ZVRhc2tGcm9tQ2F0IiwiZmlsdGVyIiwiY2F0SUQiLCJtYXgiLCJBcnJheSIsImZyb20iLCJtYXAiLCJidG4iLCJkZWZhdWx0Q2F0ZWdvcmllcyIsInRyaW0iLCJpbml0aWFsaXplRGVmYXVsdENhdGVnb3JpZXMiLCJjdXJyZW50TW9kZSIsIlRhc2siLCJ0aXRsZSIsImNhdGVnb3J5T2JqZWN0IiwicHJpb3JpdHkiLCJkZXNjcmlwdGlvbiIsImNvbXBsZXRlIiwidG9nZ2xlQ29tcGxldGUiLCJkZWxldGVUYXNrIiwiY29uZmlybSIsImVkaXRpbmdUYXNrSWQiLCJ0YXNrT2JqZWN0IiwiZXJyb3IiLCJyZWR1Y2UiLCJjb3VudCIsInBhcmVudE5vZGUiLCJ2YWx1ZSIsImRkIiwibW0iLCJ5eXl5IiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInJlcG9ydFZhbGlkaXR5IiwiY2F0ZWdvcnlWYWx1ZSIsImltcG9ydGFuY2UiLCJ1bmRlZmluZWQiLCJzcmMiLCJlZGl0VGFzayIsIm5ld1Rhc2siLCJjcmVhdGVFbGVtZW50Iiwib3BlblRhc2tNb2RhbEZvckVkaXRpbmciLCJ0YXNrQmlnRGl2IiwidGFza1ByaW0iLCJhcHBlbmRDaGlsZCIsImNoZWNrYm94IiwidHlwZSIsInN0b3BQcm9wYWdhdGlvbiIsImNoZWNrZWQiLCJ0YXNrVGl0bGUiLCJ0YXNrU2VjIiwidGFza1ByaW9yaXR5SW1nIiwiZGVsZXRlQnRuQmlnRGl2IiwibGluZWJyZWFrIiwiYWRkVGFza0RpdiIsImFkZFRhc2siLCJ0YXNrRXZMaXN0ZW5lcnMiLCJjYXRUaXRsZSIsImNhdENvbG9yIiwibmV3Q2F0ZWdvcnkiLCJuZXdDYXRlZ29yeUVsZW1lbnQiLCJuZXdCdXR0b24iLCJpbm5lclRleHQiLCJpbml0aWFsaXplQ2F0RmlsdGVyRXZMaXN0ZW5lcnMiLCJlZGl0aW5nQ2F0ZWdvcnkiLCJjYXQiLCJhc3NvY2lhdGVkQnV0dG9uIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwib3B0aW9uIiwidXBkYXRlQ2F0ZWdvcnlEcm9wZG93biIsIm9wZW5DYXRNb2RhbEZvckVkaXRpbmciLCJoZXhDb2xvciIsIm1hdGNoIiwidG9TdHJpbmciLCJyZ2JUb0hleCIsImNsaWNrIiwiYmFja2dyb3VuZCIsIm9uZVdlZWtMYXRlciIsInNldERhdGUiLCJvbmVNb250aExhdGVyIiwiY2F0QnRuIiwibmF2RGlzcGxheVN0eWxlIiwiaW5uZXJXaWR0aCIsInpJbmRleCIsImdyaWRDb2x1bW4iLCJvbmNsaWNrIiwidGFyZ2V0Iiwia2V5Il0sInNvdXJjZVJvb3QiOiIifQ==