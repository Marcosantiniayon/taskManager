(()=>{"use strict";function e(e){let t;if(e.startsWith("#"))t={r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)};else if(e.startsWith("rgb(")){let n=e.substring(4,e.length-1).split(",");t={r:parseInt(n[0],10),g:parseInt(n[1],10),b:parseInt(n[2],10)}}let n=Math.round((299*t.r+587*t.g+114*t.b)/1e3);return console.log(n),n<170}function t(e){const t=new Date(e),n=t.getTimezoneOffset();return t.setMinutes(t.getMinutes()+n),`${String(t.getMonth()+1).padStart(2,"0")}/${String(t.getDate()).padStart(2,"0")}/${t.getFullYear()}`}function n(e){pageTitle.textContent=e.textContent;let t=window.getComputedStyle(e),n=t.backgroundColor,o=t.color;pageTitle.style.backgroundColor=n,pageTitle.style.color=o,pageTitle.dataset.catId=e.dataset.catId}function o(e,n){document.querySelectorAll(".taskContainerDiv").forEach((o=>{const l=function(e){for(const t of U){const n=t.tasks.find((t=>t.id==e));if(n)return n}return null}(o.querySelector(".taskDiv").dataset.taskId),s=new Date(t(l.dueDate));s.setHours(0,0,0,0);const a=l.category;!(null===e||s<=e)||"All Inbox"!==n&&a.name!==n?o.style.display="none":o.style.display="block"}))}function l(e){const t=[];function n(e){switch(e){case"./images/warning-333.png":return 3;case"./images/warning-222.png":return 2;case"./images/warning-111.png":return 1;case"./images/warning_grey.png":return 0;default:return-1}}document.querySelectorAll(".taskContainerDiv").forEach((e=>{const n=e.querySelector(".taskDiv");n&&(function(e){const t=e.querySelector(".taskDueDate").innerHTML,n=e.querySelector(".taskPriority").innerHTML;e.taskData={taskDueDate:t,taskPriority:n}}(n),t.push(n))})),"date"===e?t.sort(((e,t)=>new Date(e.taskData.taskDueDate)-new Date(t.taskData.taskDueDate))):"priority"===e&&t.sort(((e,t)=>{const o=t.querySelector(".taskPriority img"),l=e.querySelector(".taskPriority img"),s=o?o.getAttribute("src"):"",a=l?l.getAttribute("src"):"",i=n(s),c=n(a);return console.log(i),console.log(c),i-c})),console.log(t)}const s=document.querySelector(".content"),a=document.querySelector("nav"),i=document.querySelector("#modal"),c=document.querySelector("#catModal"),d=document.querySelector(".tasksContainer"),r=document.getElementById("collapseBtn"),u=document.querySelector(".sortOptions"),m=document.getElementById("sortBtn"),g=document.getElementById("dateBtn"),y=document.getElementById("importanceBtn"),p=document.getElementById("createTask"),k=document.getElementById("okTaskBtn"),v=document.getElementById("cancelTaskBtn"),f=document.getElementById("delete"),E=document.getElementById("newCatBtn"),I=document.getElementById("okCatBtn"),h=document.getElementById("cancelCatBtn"),C=(document.getElementById("All Inbox"),document.getElementById("Responsibilities"),document.getElementById("Events & Social"),document.getElementById("Programming Course"),document.getElementById("colorPicker")),B=document.getElementById("colorDisplay"),L=document.getElementById("allBtn"),D=document.getElementById("todayBtn"),b=document.getElementById("thisWeekBtn"),w=document.getElementById("thisMonthBtn"),x=document.getElementById("pageTimeline");let S=document.getElementsByClassName("close")[0],T=document.getElementsByClassName("closeCatModal")[0],q=document.querySelector("form"),A=document.getElementById("pageTitle"),M=document.getElementById("title"),P=document.getElementById("category"),F=document.getElementById("dueDate"),H=document.getElementById("priority"),N=document.getElementById("description"),$=document.querySelectorAll(".catBtns"),z=document.querySelectorAll(".timelineBtns"),W="All Inbox",R=document.getElementById(W),_=null,O=document.getElementById("allBtn");const Y=function(){const e=new Date;return e.setHours(0,0,0,0),e}();function V(e){return $.forEach((e=>{e.classList.remove("selectedFilter")})),R=document.getElementById(e),R.classList.add("selectedFilter"),n(R),o(_,e),R}function j(e,t){return console.log(t),z.forEach((e=>{e.classList.remove("selectedFilter")})),n(R),o(e,W),t.classList.add("selectedFilter"),t}m.addEventListener("click",(function(){"none"===u.style.display?(u.style.display="flex",m.style.borderRadius="5px 5px 0px 0px"):(u.style.display="none",m.style.borderRadius="")})),g.addEventListener("click",(function(){l("date")})),y.addEventListener("click",(function(){l("priority")}));class G{constructor(e,t,n=null){this.name=e,this.color=t,this.tasks=[],this.catId=n||++K}addTaskToCat(e){this.tasks.push(e),e.id=Z,Z++}removeTaskFromCat(e){this.tasks=this.tasks.filter((t=>t.id!==e))}}let J,K=Math.max(...Array.from($).map((e=>parseInt(e.dataset.catId)))),Q=function(){const e=document.querySelectorAll(".categoriesDiv button");return Array.from(e).map((e=>{let t=parseInt(e.dataset.catId);return t>K&&(K=t),new G(e.textContent.trim(),null,t)}))}(),U=[...Q],X=null,Z=0;class ee{constructor(e,t,n,o,l,s){this.id=e,this.title=t,this.category=n,this.dueDate=o,this.priority=l,this.description=s,this.complete=!1}toggleComplete(){this.complete=!this.complete}}!function(){function e(e){if(!confirm("Are you sure you want to delete this task?"))return i.style.display="none",void delete M.dataset.editingTaskId;let t,n,o=document.getElementById(e);if(!o)return console.error(`No task div found with id ${e}`),void delete M.dataset.editingTaskId;for(let o of U)if(t=o.tasks.find((t=>t.id==e)),t){n=o;break}n.removeTaskFromCat(e),Z--,Z=U.reduce(((e,t)=>e+t.tasks.length),0),o.parentNode.parentNode.remove(),i.style.display="none",delete M.dataset.editingTaskId}p.addEventListener("click",(function(){M.value="",P.value=W;let e=new Date,t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),o=e.getFullYear();e=o+"-"+n+"-"+t,F.value=e,H.value="Low",N.value="",i.style.display="block"})),v.addEventListener("click",(function(e){e.preventDefault(),i.style.display="none"})),k.addEventListener("click",(function(o){if(document.querySelector("form").reportValidity()){o.preventDefault(),M.classList.remove("error");let n=document.getElementById("title").value,l=document.getElementById("category").value,s=document.getElementById("category").value,a=U.find((e=>e.name===s)),c=document.getElementById("dueDate").value,r=document.getElementById("priority").value,u=document.getElementById("description").value;M.dataset.editingTaskId?function(e,n,o,l,s){let a,c=M.dataset.editingTaskId;for(let e of U)if(a=e.tasks.find((e=>e.id==c)),a)break;if(void 0===a)return void console.error(`No task found with id ${c}`);a.title=e,a.category=n,a.dueDate=o,a.priority=l,a.description=s,console.log("editing task, title: "+e+" id: "+c);let d=document.getElementById(c);d.querySelector(".taskTitle").textContent=e,d.querySelector(".taskCategory").textContent=`(${n.name})`,d.querySelector(".taskDueDate").textContent=t(o),d.querySelector(".symbol").src="Highest"==l?"./images/warning-333.png":"High"==l?"./images/warning-222.png":"Medium"==l?"./images/warning-111.png":"./images/warning_grey.png",delete M.dataset.editingTaskId,i.style.display="none"}(n,a,c,r,u):function(n,o,l,s,a,c){let r=new ee(Z,n,l,s,a,c);Z++,l.addTaskToCat(r);let u=r.id;const m=document.createElement("div");function g(e){console.log(e),M.value=e.title,P.value=e.category.name,F.value=e.dueDate,H.value=e.priority,N.value=e.description,M.dataset.editingTaskId=e.id,i.style.display="block"}m.classList.add("taskContainerDiv"),function(n,o,l,s,a,i){const c=document.createElement("div");c.classList.add("taskBigDiv");const u=document.createElement("div");u.classList.add("taskDiv"),u.id=n,u.dataset.taskId=n,u.addEventListener("click",(function(){g(r)}));const y=document.createElement("div");y.classList.add("taskPrim"),u.appendChild(y);const p=document.createElement("input");p.type="checkbox",p.addEventListener("click",(function(e){e.stopPropagation(),this.checked?(k.classList.add("complete"),v.classList.add("complete"),E.classList.add("complete"),I.classList.add("complete")):(k.classList.remove("complete"),v.classList.remove("complete"),E.classList.remove("complete"),I.classList.remove("complete"))}));const k=document.createElement("div");k.classList.add("taskTitle"),k.textContent=o;const v=document.createElement("div");v.classList.add("taskCategory"),v.textContent="("+l+")",y.appendChild(p),y.appendChild(k),y.appendChild(v);const f=document.createElement("div");f.classList.add("taskSec"),u.appendChild(f);const E=document.createElement("div");E.classList.add("taskDueDate"),E.textContent=t(s);const I=document.createElement("div");I.classList.add("taskPriority");const h=document.createElement("img");"Highest"==i.value?h.src="./images/warning-333.png":"High"==i.value?h.src="./images/warning-222.png":"Medium"==i.value?h.src="./images/warning-111.png":h.src="./images/warning_grey.png",h.classList.add("symbol"),I.appendChild(h);const C=document.createElement("img");C.id=n,C.src="./images/delete.png",C.classList.add("symbol"),C.addEventListener("click",(function(t){t.stopPropagation();let n=C.id;n?e(n):console.log("No task is currently being edited")})),f.appendChild(E),f.appendChild(I),c.appendChild(u),c.appendChild(C);const B=document.createElement("hr");m.appendChild(c),m.appendChild(B),d.appendChild(m)}(u,n,o,s,0,H)}(n,l,a,c,r,u),i.style.display="none"}else M.classList.add("error");_=null,O=L,j(_,O),W=P.value,V(W),n(R)})),f.addEventListener("click",(function(t){t.stopPropagation();let n=M.dataset.editingTaskId;n?e(n):console.log("No task is currently being edited")})),M.addEventListener("input",(function(){this.classList.remove("error")}))}(),E.addEventListener("click",(function(){X="new",c.style.display="block",catTitle.value="",B.style.backgroundColor="#8a59b9",console.log(B.style.backgroundColor)})),I.addEventListener("click",(function(t){if(t.preventDefault(),"new"===X){let t=document.getElementById("catTitle").value,n=document.getElementById("colorPicker").value;n=B.style.backgroundColor,console.log(n);let o=new G(t,n);U.push(o);let l=document.createElement("li"),s=document.createElement("button");s.innerText=t,s.id=t,s.classList.add("catBtns"),s.style.backgroundColor=n,s.dataset.catId=o.catId,e(n)?(console.log(n),console.log("dark"),s.style.color="white"):(console.log(n),console.log("light"),s.style.color="black"),l.appendChild(s),document.getElementById("categoriesList").appendChild(l),initializeCatFilterEvListeners()}else if("edit"===X){console.log(J),"number"!=typeof J&&console.error("catId is not a number at [description of the code location]",J);let t=U.find((e=>e.catId===J));if(t){t.name=document.getElementById("catTitle").value,t.color=document.getElementById("colorPicker").value;let n=document.querySelector(`button[data-cat-id="${J}"]`);n&&(n.innerText=t.name,n.style.backgroundColor=t.color,e(t.color)?(n.style.color="white",A.style.color="white",console.log(A.style.color)):(n.style.color="black",A.style.color="black",console.log(A.style.color)))}else console.error("Could not find category with ID:",J);A.innerHTML=catTitle.value,console.log(C.value),A.style.backgroundColor=C.value}!function(){let e=document.getElementById("category");for(;e.firstChild;)e.removeChild(e.firstChild);U.forEach((t=>{let n=document.createElement("option");n.value=t.name,n.textContent=t.name,e.appendChild(n)}))}(),c.style.display="none"})),h.addEventListener("click",(function(e){e.preventDefault(),c.style.display="none"})),A.addEventListener("click",(function(){J=parseInt(this.dataset.catId),X="edit",function(e,t){let n=document.getElementById("catTitle"),o=document.getElementById("colorDisplay");n.value=e.textContent,o.style.backgroundColor=e.style.backgroundColor,c.style.display="block"}(A)})),B.addEventListener("click",(function(){let e=function(e){let t=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2)}(B.style.backgroundColor);C.value=e,C.click()})),C.addEventListener("input",(function(){B.style.background=C.value})),R.classList.add("selectedFilter"),O.classList.add("selectedFilter"),n(R),o(_,W),D.addEventListener("click",(function(){_=Y,O=D,j(_,O),x.textContent=this.textContent})),b.addEventListener("click",(function(){const e=new Date;e.setDate(Y.getDate()+7),_=e,O=b,j(_,O),x.textContent=this.textContent})),w.addEventListener("click",(function(){const e=new Date;e.setDate(Y.getDate()+30),_=e,O=w,j(_,O),x.textContent=this.textContent})),L.addEventListener("click",(function(){_=null,O=L,j(_,O),x.textContent=this.textContent})),$=document.querySelectorAll(".catBtns"),$.forEach((e=>{e.addEventListener("click",(function(){W=this.textContent,J=parseInt(this.dataset.catId),V(W)}))})),r.addEventListener("click",(function(){const e=window.getComputedStyle(a).display;window.innerWidth<750?"none"===e?(a.style.display="block",a.style.zIndex="2",s.style.gridColumn="1 / 3",s.classList.add("overlay"),r.src="./images/collapse3.png"):(a.style.display="none",a.style.zIndex="",s.style.gridColumn="1 / -1",s.classList.remove("overlay"),console.log("expand"),r.src="./images/expand3.png"):"none"===e?(a.style.display="block",a.style.zIndex="",s.style.gridColumn="2/3",s.classList.remove("overlay"),r.src="./images/collapse3.png"):(a.style.display="none",a.style.zIndex="",s.style.gridColumn="1 / -1",s.classList.remove("overlay"),console.log("expand"),r.src="./images/expand3.png")})),S.onclick=function(){i.style.display="none",delete M.dataset.editingTaskId},T.onclick=function(){c.style.display="none"},window.onclick=function(e){e.target==i?i.style.display="none":e.target==c&&(c.style.display="none")},q.addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),k.click())}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFTLEdBQ25CeEksRUFBUTVDLE1BQU1xTCxXQUFhLE1BQzNCekksRUFBUXdDLFVBQVVDLE9BQU8sV0FDekJwQyxFQUFZb0YsSUFBTSwyQkFHbEJ4RixFQUFJN0MsTUFBTXdCLFFBQVUsT0FDcEJxQixFQUFJN0MsTUFBTW9MLE9BQVMsR0FDbkJ4SSxFQUFRNUMsTUFBTXFMLFdBQWEsU0FDM0J6SSxFQUFRd0MsVUFBVUMsT0FBTyxXQUN6QjlHLFFBQVFDLElBQUksVUFDWnlFLEVBQVlvRixJQUFNLHVCQUl4QixJQUNGaEUsRUFBS2lILFFBQVUsV0FDWHhJLEVBQU05QyxNQUFNd0IsUUFBVSxjQUNmZ0QsRUFBV3ZFLFFBQVFvSCxhQUM5QixFQUNBOUMsRUFBYStHLFFBQVUsV0FDbkJ2SSxFQUFTL0MsTUFBTXdCLFFBQVUsTUFDN0IsRUFDQTdCLE9BQU8yTCxRQUFVLFNBQVN2RCxHQUNsQkEsRUFBTXdELFFBQVV6SSxFQUNsQkEsRUFBTTlDLE1BQU13QixRQUFVLE9BQ2R1RyxFQUFNd0QsUUFBVXhJLElBQ3RCQSxFQUFTL0MsTUFBTXdCLFFBQVUsT0FFakMsRUFDQSxFQUFLZ0UsaUJBQWlCLFdBQVcsU0FBU3VDLEdBQ3BCLFVBQWRBLEVBQU15RCxNQUNOekQsRUFBTUMsaUJBQ054RSxFQUFVb0gsUUFFbEIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3Rhc2ttYW5hZ2VyLy4vc3JjL2hlbHBlckZ1bmN0aW9ucy5qcyIsIndlYnBhY2s6Ly90YXNrbWFuYWdlci8uL3NyYy9kaXNwbGF5RnVuY3Rpb25zLmpzIiwid2VicGFjazovL3Rhc2ttYW5hZ2VyLy4vc3JjL2RvbUVsZW1lbnRzLmpzIiwid2VicGFjazovL3Rhc2ttYW5hZ2VyLy4vc3JjL2NhdGVnb3J5RnVuY3Rpb25zLmpzIiwid2VicGFjazovL3Rhc2ttYW5hZ2VyLy4vc3JjL3Rhc2tGdW5jdGlvbnMuanMiLCJ3ZWJwYWNrOi8vdGFza21hbmFnZXIvLi9zcmMvaW5kZXgzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBnZXRDdXJyZW50RGF0ZSgpeyBcbiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgdG9kYXkuc2V0SG91cnMoMCwgMCwgMCwgMCk7IC8vIFNldCBob3VycywgbWludXRlcywgc2Vjb25kcywgYW5kIG1pbGxpc2Vjb25kcyB0byAwIHRvIGNvbXBhcmUgb25seSB0aGUgZGF0ZXNcbiAgICByZXR1cm4gdG9kYXk7XG4gIH1cbmV4cG9ydCBmdW5jdGlvbiBpc0RhcmtDb2xvcihjb2xvcikge1xuICBsZXQgcmdiO1xuICBpZiAoY29sb3Iuc3RhcnRzV2l0aCgnIycpKSB7XG4gICAgICBsZXQgciA9IHBhcnNlSW50KGNvbG9yLnNsaWNlKDEsIDMpLCAxNik7XG4gICAgICBsZXQgZyA9IHBhcnNlSW50KGNvbG9yLnNsaWNlKDMsIDUpLCAxNik7XG4gICAgICBsZXQgYiA9IHBhcnNlSW50KGNvbG9yLnNsaWNlKDUsIDcpLCAxNik7XG4gICAgICByZ2IgPSB7IHIsIGcsIGIgfTtcbiAgfSBlbHNlIGlmIChjb2xvci5zdGFydHNXaXRoKCdyZ2IoJykpIHtcbiAgICAvLyBFeHRyYWN0IFJHQiB2YWx1ZXMgZnJvbSBhbiBSR0Igc3RyaW5nXG4gICAgbGV0IHZhbHVlcyA9IGNvbG9yLnN1YnN0cmluZyg0LCBjb2xvci5sZW5ndGggLSAxKS5zcGxpdCgnLCcpO1xuICAgIGxldCByID0gcGFyc2VJbnQodmFsdWVzWzBdLCAxMCk7XG4gICAgbGV0IGcgPSBwYXJzZUludCh2YWx1ZXNbMV0sIDEwKTtcbiAgICBsZXQgYiA9IHBhcnNlSW50KHZhbHVlc1syXSwgMTApO1xuICAgIHJnYiA9IHsgciwgZywgYiB9O1xuICB9XG5cbiAgLy8gQ2FsY3VsYXRlIGJyaWdodG5lc3Mgb24gYSBzY2FsZSBmcm9tIDAgdG8gMjU1XG4gIGxldCBicmlnaHRuZXNzID0gTWF0aC5yb3VuZCgoKHJnYi5yICogMjk5KSArIChyZ2IuZyAqIDU4NykgKyAocmdiLmIgKiAxMTQpKSAvIDEwMDApO1xuICBjb25zb2xlLmxvZyhicmlnaHRuZXNzKTtcbiAgcmV0dXJuIGJyaWdodG5lc3MgPCAxNzA7IC8vIFJldHVybiB0cnVlIGlmIHRoZSBjb2xvciBpcyBkYXJrXG59XG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0RGF0ZUZvcklucHV0KGRhdGVTdHJpbmcpIHtcbiAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHJpbmcpO1xuICBjb25zdCBvZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7IC8vIEdldCB0aGUgdGltZXpvbmUgb2Zmc2V0IGluIG1pbnV0ZXNcbiAgZGF0ZS5zZXRNaW51dGVzKGRhdGUuZ2V0TWludXRlcygpICsgb2Zmc2V0KTsgLy8gQWRqdXN0IHRoZSBkYXRlIGJ5IHRoZSB0aW1lem9uZSBvZmZzZXRcbiAgY29uc3QgbW0gPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTtcbiAgY29uc3QgZGQgPSBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XG4gIGNvbnN0IHl5eXkgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gIHJldHVybiBgJHttbX0vJHtkZH0vJHt5eXl5fWA7XG59XG5leHBvcnQgZnVuY3Rpb24gcmdiVG9IZXgocmdiKSB7XG4gIC8vIFNlcGFyYXRlIFJHQiB2YWx1ZXNcbiAgbGV0IHZhbHVlcyA9IHJnYi5tYXRjaCgvXnJnYlxcKChcXGQrKSxcXHMqKFxcZCspLFxccyooXFxkKylcXCkkLyk7XG5cbiAgLy8gQ29udmVydCBlYWNoIHZhbHVlIHRvIGhleGFkZWNpbWFsXG4gIGxldCBoZXhDb2xvciA9IFwiI1wiICsgKFwiMFwiICsgcGFyc2VJbnQodmFsdWVzWzFdLCAxMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtMikgK1xuICAgICAgICAgICAgICAgICAgICAoXCIwXCIgKyBwYXJzZUludCh2YWx1ZXNbMl0sIDEwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKSArXG4gICAgICAgICAgICAgICAgICAgIChcIjBcIiArIHBhcnNlSW50KHZhbHVlc1szXSwgMTApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO1xuICByZXR1cm4gaGV4Q29sb3I7XG59XG4gICIsImltcG9ydCB7IGNhdGVnb3JpZXMgfSBmcm9tIFwiLi9jYXRlZ29yeUZ1bmN0aW9uc1wiO1xuaW1wb3J0IHsgZm9ybWF0RGF0ZUZvcklucHV0IH0gZnJvbSBcIi4vaGVscGVyRnVuY3Rpb25zXCI7XG4vLyBpbXBvcnQgeyBjdXJyZW50Q2F0ZWdvcnkgfSBmcm9tIFwiLi9kb21FbGVtZW50c1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlUGFnZVRpdGxlKHNlbGVjdGVkQ2F0ZWdvcnlCdG4pe1xuICAvL0FwcGx5IHBhZ2UgdGl0bGUgYmFzZWQgb24gY2F0ZWdyeVxuICBwYWdlVGl0bGUudGV4dENvbnRlbnQgPSBzZWxlY3RlZENhdGVnb3J5QnRuLnRleHRDb250ZW50O1xuXG4gIC8vIENoYW5nZSBwYWdlIHRpdGxlIGFjY29yZGluZyB0byBzZWxlY3RlZCBidXR0b25cbiAgbGV0IHNlbGVjdGVkQ2F0QnRuID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoc2VsZWN0ZWRDYXRlZ29yeUJ0bik7XG4gIGxldCBiZ0NvbG9yID0gc2VsZWN0ZWRDYXRCdG4uYmFja2dyb3VuZENvbG9yO1xuICBsZXQgZm9udENvbG9yID0gc2VsZWN0ZWRDYXRCdG4uY29sb3I7XG4gIHBhZ2VUaXRsZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiZ0NvbG9yO1xuICBwYWdlVGl0bGUuc3R5bGUuY29sb3IgPSBmb250Q29sb3I7XG4gIHBhZ2VUaXRsZS5kYXRhc2V0LmNhdElkID0gc2VsZWN0ZWRDYXRlZ29yeUJ0bi5kYXRhc2V0LmNhdElkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlUGFnZVRhc2tzKHNlbGVjdGVkVGltZWxpbmUsIHNlbGVjdGVkQ2F0ZWdvcnkpIHtcbiAgLy8gTG9vcCB0aHJvdWdoIGFsbCB0YXNrQ29udGFpbmVyRGl2IGVsZW1lbnRzIFxuICBjb25zdCBhbGxUYXNrQ29udGFpbmVyRGl2cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXNrQ29udGFpbmVyRGl2Jyk7XG4gIGFsbFRhc2tDb250YWluZXJEaXZzLmZvckVhY2goKHRhc2tDb250YWluZXJEaXYpID0+IHtcbiAgICAgIGNvbnN0IHRhc2tEaXYgPSB0YXNrQ29udGFpbmVyRGl2LnF1ZXJ5U2VsZWN0b3IoJy50YXNrRGl2Jyk7IC8vIEdldCB0aGUgdGFza0RpdiBpbnNpZGUgdGhlIGN1cnJlbnQgdGFza0NvbnRhaW5lckRpdlxuICAgICAgY29uc3QgdGFza0lkID0gdGFza0Rpdi5kYXRhc2V0LnRhc2tJZDtcbiAgICAgIFxuICAgICAgY29uc3QgdGFzayA9IGdldFRhc2tCeUlkKHRhc2tJZCk7IC8vIFJldHJpZXZlIHRoZSB0YXNrIG9iamVjdCBieSBJRFxuXG4gICAgICAvLyBDaGVjayBpZiB0aGUgdGFzaydzIGR1ZSBkYXRlIGlzIGJldHdlZW4gc3RhcnREYXRlIGFuZCBzZWxlY3RlZFRpbWVsaW5lXG4gICAgICBjb25zdCB0YXNrRHVlRGF0ZSA9IG5ldyBEYXRlKGZvcm1hdERhdGVGb3JJbnB1dCh0YXNrLmR1ZURhdGUpKTtcbiAgICAgIHRhc2tEdWVEYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuXG4gICAgICAvLyBBc3NpZ24gdGhlIHRhc2sgY2F0ZWdvcnkgdG8gdGFza0NhdGVnb3J5XG4gICAgICBjb25zdCB0YXNrQ2F0ZWdvcnkgPSB0YXNrLmNhdGVnb3J5O1xuXG4gICAgICBpZiAoKHNlbGVjdGVkVGltZWxpbmUgPT09IG51bGwgfHwgdGFza0R1ZURhdGUgPD0gc2VsZWN0ZWRUaW1lbGluZSkgJiYgKHNlbGVjdGVkQ2F0ZWdvcnkgPT09IFwiQWxsIEluYm94XCIgfHwgdGFza0NhdGVnb3J5Lm5hbWUgPT09IHNlbGVjdGVkQ2F0ZWdvcnkpKSB7XG4gICAgICAgICAgLy8gU2hvdyB0aGUgdGFza0NvbnRhaW5lckRpdiBpZiBpdHMgZHVlIGRhdGUgaXMgYmV0d2VlbiBzdGFydERhdGUgYW5kIGVuZERhdGUsIGFuZCBjYXRlZ29yeSBtYXRjaGVzXG4gICAgICAgICAgdGFza0NvbnRhaW5lckRpdi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gSGlkZSB0aGUgdGFza0NvbnRhaW5lckRpdiBpZiBpdHMgZHVlIGRhdGUgaXMgb3V0c2lkZSB0aGUgcmFuZ2Ugb3IgY2F0ZWdvcnkgZG9lc24ndCBtYXRjaFxuICAgICAgICAgIHRhc2tDb250YWluZXJEaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH1cblxuICAgICAgLy9IZWxwZXIgZnVuY3Rpb25cbiAgICAgIGZ1bmN0aW9uIGdldFRhc2tCeUlkKHRhc2tJZCkge1xuICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCBlYWNoIGNhdGVnb3J5XG4gICAgICAgICAgZm9yIChjb25zdCBjYXRlZ29yeSBvZiBjYXRlZ29yaWVzKSB7XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSB0YXNrIGluIHRoZSBjYXRlZ29yeSdzIHRhc2tzIGFycmF5IHdpdGggdGhlIG1hdGNoaW5nIElEXG4gICAgICAgICAgICBjb25zdCB0YXNrID0gY2F0ZWdvcnkudGFza3MuZmluZCgodGFzaykgPT4gdGFzay5pZCA9PSB0YXNrSWQpO1xuICAgICAgICAgICAgaWYgKHRhc2spIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRhc2s7IC8vIFJldHVybiB0aGUgdGFzayBpZiBmb3VuZFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbnVsbDsgLy8gUmV0dXJuIG51bGwgaWYgbm8gdGFzayB3aXRoIHRoZSBnaXZlbiBJRCBpcyBmb3VuZFxuICAgICAgICB9XG4gIH0pO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHNvcnQoc29ydE9wdGlvbil7XG4gIGNvbnN0IHRhc2tEaXZBcnJheSA9IFtdOyAvLyBDcmVhdGUgYW4gZW1wdHkgYXJyYXkgdG8gc3RvcmUgdGFza0RpdnNcblxuICAvLyBMb29wIHRocm91Z2ggYWxsVGFza0NvbnRhaW5lckRpdnMgYW5kIHN0b3JlIGVhY2ggdGFza0RpdiBpbnRvIHRoZSB0YXNrRGl2QXJyYXlcbiAgY29uc3QgYWxsVGFza0NvbnRhaW5lckRpdnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFza0NvbnRhaW5lckRpdicpO1xuICBhbGxUYXNrQ29udGFpbmVyRGl2cy5mb3JFYWNoKCh0YXNrQ29udGFpbmVyRGl2KSA9PiB7XG4gICAgICBjb25zdCB0YXNrRGl2ID0gdGFza0NvbnRhaW5lckRpdi5xdWVyeVNlbGVjdG9yKCcudGFza0RpdicpOyBcbiAgICAgIGlmKHRhc2tEaXYpeyAvL0dldCBlYWNoIHRhc2tzJ3MgZGF0YSAoZHVlIGRhdGUgYW5kIHByaW9yaXR5KSBcbiAgICAgICAgZ2V0VGFza0RhdGEodGFza0Rpdik7XG4gICAgICAgIHRhc2tEaXZBcnJheS5wdXNoKHRhc2tEaXYpOyAvLyBQdXNoIHRoZSB0YXNrRGl2IGludG8gdGhlIGFycmF5IGlmIGl0IGV4aXN0c1xuICAgICAgfVxuICB9KTtcblxuICBpZihzb3J0T3B0aW9uID09PSAnZGF0ZScpe1xuICAgIC8vIFNvcnQgYnkgZWFybGllc3QgZHVlIGRhdGVcbiAgICB0YXNrRGl2QXJyYXkuc29ydCgoYSwgYikgPT4geyBcbiAgICAgIC8vYSAmIGIgcmVwcmVzZW50IHRoZSB0YXNrIGRpdi4gXG5cbiAgICAgIC8vIEdldCB0aGUgdGFza0R1ZURhdGUgZnJvbSB0YXNrRGF0YSBwcm9wZXJ0eSBmb3IgZWFjaCB0YXNrIGRpdiAoYSAmYilcbiAgICAgIGNvbnN0IGR1ZURhdGVBID0gbmV3IERhdGUoYS50YXNrRGF0YS50YXNrRHVlRGF0ZSk7XG4gICAgICBjb25zdCBkdWVEYXRlQiA9IG5ldyBEYXRlKGIudGFza0RhdGEudGFza0R1ZURhdGUpO1xuXG4gICAgICAvLyBDb21wYXJlIHRoZSBkdWUgZGF0ZXNcbiAgICAgIHJldHVybiBkdWVEYXRlQSAtIGR1ZURhdGVCO1xuICAgIH0pO1xuICB9IGVsc2UgaWYoc29ydE9wdGlvbiA9PT0gJ3ByaW9yaXR5Jyl7XG4gICAgLy8gU29ydCB0YXNrRGl2QXJyYXkgYnkgdGFza1ByaW9yaXR5XG4gICAgdGFza0RpdkFycmF5LnNvcnQoKGIsIGEpID0+IHtcblxuICAgICAgLy8gR2V0IHRoZSB0YXNrUHJpb3JpdHkgaW1nIGVsZW1lbnRzIGZyb20gdGhlIHRhc2tEaXYgZWxlbWVudHNcbiAgICAgIGNvbnN0IHByaW9yaXR5SW1nQSA9IGEucXVlcnlTZWxlY3RvcignLnRhc2tQcmlvcml0eSBpbWcnKTtcbiAgICAgIGNvbnN0IHByaW9yaXR5SW1nQiA9IGIucXVlcnlTZWxlY3RvcignLnRhc2tQcmlvcml0eSBpbWcnKTtcblxuICAgICAgLy8gRXh0cmFjdCB0aGUgc3JjIGF0dHJpYnV0ZSB2YWx1ZSBmcm9tIHRoZSBpbWcgZWxlbWVudHNcbiAgICAgIGNvbnN0IHByaW9yaXR5U291cmNlQSA9IHByaW9yaXR5SW1nQSA/IHByaW9yaXR5SW1nQS5nZXRBdHRyaWJ1dGUoJ3NyYycpIDogJyc7XG4gICAgICBjb25zdCBwcmlvcml0eVNvdXJjZUIgPSBwcmlvcml0eUltZ0IgPyBwcmlvcml0eUltZ0IuZ2V0QXR0cmlidXRlKCdzcmMnKSA6ICcnO1xuXG4gICAgICAvLyBHZXQgdGhlIHRhc2tQcmlvcml0eSBmcm9tIHRhc2tEYXRhIHByb3BlcnR5IGFuZCBjb252ZXJ0IGl0IHRvIGEgbnVtZXJpYyB2YWx1ZVxuICAgICAgY29uc3QgcHJpb3JpdHlWYWx1ZUEgPSBnZXRQcmlvcml0eVZhbHVlKHByaW9yaXR5U291cmNlQSk7XG4gICAgICBjb25zdCBwcmlvcml0eVZhbHVlQiA9IGdldFByaW9yaXR5VmFsdWUocHJpb3JpdHlTb3VyY2VCKTtcblxuICAgICAgY29uc29sZS5sb2cocHJpb3JpdHlWYWx1ZUEpO1xuICAgICAgY29uc29sZS5sb2cocHJpb3JpdHlWYWx1ZUIpO1xuXG4gICAgICAvLyBDb21wYXJlIHRoZSBwcmlvcml0eSB2YWx1ZXNcbiAgICAgIHJldHVybiBwcmlvcml0eVZhbHVlQSAtIHByaW9yaXR5VmFsdWVCO1xuICAgIH0pO1xuICB9XG4gIGNvbnNvbGUubG9nKHRhc2tEaXZBcnJheSk7XG5cblxuICAvLyBIZWxwZXIgZnVuY3Rpb25zXG4gIGZ1bmN0aW9uIGdldFRhc2tEYXRhKHRhc2tEaXYpe1xuICAgIC8vIEdldCB0aGUgdGFza0R1ZURhdGUgYW5kIHRhc2tQcmlvcml0eSBlbGVtZW50cyB3aXRoaW4gdGhlIHRhc2tEaXZcbiAgICBjb25zdCB0YXNrRHVlRGF0ZSA9IHRhc2tEaXYucXVlcnlTZWxlY3RvcignLnRhc2tEdWVEYXRlJykuaW5uZXJIVE1MO1xuICAgIGNvbnN0IHRhc2tQcmlvcml0eSA9IHRhc2tEaXYucXVlcnlTZWxlY3RvcignLnRhc2tQcmlvcml0eScpLmlubmVySFRNTDtcbiAgXG4gICAgLy8gQWRkIHRhc2tEYXRhIGFzIGEgcHJvcGVydHkgb2YgdGhlIHRhc2tEaXYgZWxlbWVudFxuICAgIHRhc2tEaXYudGFza0RhdGEgPSB7XG4gICAgICB0YXNrRHVlRGF0ZSxcbiAgICAgIHRhc2tQcmlvcml0eSxcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGdldFByaW9yaXR5VmFsdWUodGFza1ByaW9yaXR5U3JjKXtcbiAgICBzd2l0Y2ggKHRhc2tQcmlvcml0eVNyYykge1xuICAgICAgY2FzZSBcIi4vaW1hZ2VzL3dhcm5pbmctMzMzLnBuZ1wiOlxuICAgICAgICAgIHJldHVybiAzO1xuICAgICAgY2FzZSBcIi4vaW1hZ2VzL3dhcm5pbmctMjIyLnBuZ1wiOlxuICAgICAgICAgIHJldHVybiAyO1xuICAgICAgY2FzZSBcIi4vaW1hZ2VzL3dhcm5pbmctMTExLnBuZ1wiOlxuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgY2FzZSBcIi4vaW1hZ2VzL3dhcm5pbmdfZ3JleS5wbmdcIjpcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIC0xOyAvLyBEZWZhdWx0IHZhbHVlIGZvciB1bmRlZmluZWQgb3Igb3RoZXIgc291cmNlc1xuICAgIH1cbiAgfVxuXG59XG5cblxuXG5cblxuIiwiaW1wb3J0IHsgVGFzaywgdGFza0NvdW50ZXIgfSBmcm9tIFwiLi90YXNrRnVuY3Rpb25zXCI7XG5pbXBvcnQgeyBnZXRDdXJyZW50RGF0ZSwgZm9ybWF0RGF0ZUZvcklucHV0LCBpc0RhcmtDb2xvciwgcmdiVG9IZXggfSBmcm9tIFwiLi9oZWxwZXJGdW5jdGlvbnNcIjtcbmltcG9ydCB7IHVwZGF0ZVBhZ2VUaXRsZSwgdXBkYXRlUGFnZVRhc2tzLCBzb3J0fSBmcm9tIFwiLi9kaXNwbGF5RnVuY3Rpb25zXCI7XG5pbXBvcnQgeyBDYXRlZ29yeSwgY2F0ZWdvcmllcywgY2F0SUQsIGN1cnJlbnRNb2RlIH0gZnJvbSBcIi4vY2F0ZWdvcnlGdW5jdGlvbnNcIjtcblxuXG5jb25zdCBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKTtcbmNvbnN0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ25hdicpO1xuY29uc3QgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbW9kYWwnKTtcbmNvbnN0IGNhdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhdE1vZGFsJyk7XG5jb25zdCB0YXNrc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrc0NvbnRhaW5lcicpO1xuY29uc3QgY29sbGFwc2VCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sbGFwc2VCdG4nKTtcbmNvbnN0IHNvcnRPcHRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNvcnRPcHRpb25zJyk7XG5jb25zdCBzb3J0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NvcnRCdG4nKTtcbmNvbnN0IGRhdGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0ZUJ0bicpO1xuY29uc3QgaW1wb3J0YW5jZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbXBvcnRhbmNlQnRuJyk7XG5cblxuY29uc3QgY3JlYXRlVGFza0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjcmVhdGVUYXNrJyk7XG5jb25zdCBva1Rhc2tCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb2tUYXNrQnRuJylcbmNvbnN0IGNhbmNlbFRhc2tCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FuY2VsVGFza0J0bicpO1xuY29uc3QgZGVsZXRlQnRuTW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVsZXRlJyk7XG5jb25zdCBuZXdDYXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3Q2F0QnRuJyk7XG5jb25zdCBva0NhdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdva0NhdEJ0bicpO1xuY29uc3QgY2FuY2VsQ2F0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbmNlbENhdEJ0bicpO1xuY29uc3QgaW5ib3hCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnQWxsIEluYm94JylcbmNvbnN0IHJlc3BvbnNpYmlsaXRpZXNCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnUmVzcG9uc2liaWxpdGllcycpO1xuY29uc3QgZXZlbnRzQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0V2ZW50cyAmIFNvY2lhbCcpO1xuY29uc3QgcHJvZ3JhbW1pbmdCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnUHJvZ3JhbW1pbmcgQ291cnNlJyk7XG5jb25zdCBjb2xvclBpY2tlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2xvclBpY2tlcicpO1xuY29uc3QgY29sb3JEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbG9yRGlzcGxheScpO1xuY29uc3QgYWxsQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FsbEJ0bicpO1xuY29uc3QgdG9kYXlCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9kYXlCdG4nKTtcbmNvbnN0IHRoaXNXZWVrQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RoaXNXZWVrQnRuJyk7XG5jb25zdCB0aGlzTW9udGhCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGhpc01vbnRoQnRuJyk7XG5jb25zdCBwYWdlVGltZWxpbmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZVRpbWVsaW5lJyk7XG5sZXQgc3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJjbG9zZVwiKVswXTtcbmxldCBzcGFuQ2F0TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY2xvc2VDYXRNb2RhbFwiKVswXTtcbmxldCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybScpO1xubGV0IHBhZ2VUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlVGl0bGUnKTtcblxubGV0IHRpdGxlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpXG5sZXQgY2F0ZWdvcnlTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhdGVnb3J5XCIpO1xubGV0IGR1ZURhdGVTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImR1ZURhdGVcIik7XG5sZXQgcHJpb3JpdHlTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaW9yaXR5XCIpO1xubGV0IGRlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uXCIpO1xubGV0IGNhdGVnb3J5QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXRCdG5zJyk7XG5sZXQgdGltZWxpbmVCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRpbWVsaW5lQnRucycpO1xuXG5sZXQgc2VsZWN0ZWRDYXRlZ29yeSA9ICdBbGwgSW5ib3gnO1xubGV0IHNlbGVjdGVkQ2F0ZWdvcnlCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWxlY3RlZENhdGVnb3J5KTtcbmxldCBzZWxlY3RlZFRpbWVsaW5lID0gbnVsbDtcbmxldCBzZWxlY3RlZFRpbWVsaW5lQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbGxCdG5cIik7XG5cbmNvbnN0IHRvZGF5ID0gZ2V0Q3VycmVudERhdGUoKTtcblxuZXhwb3J0IHtcbiAgY29udGVudCwgbmF2LG1vZGFsLHNwYW4sY2F0TW9kYWwsIHNwYW5DYXRNb2RhbCx0YXNrc0NvbnRhaW5lcixmb3JtLHBhZ2VUaXRsZSxjb2xsYXBzZUJ0bixjcmVhdGVUYXNrQnRuLG9rVGFza0J0bixjYW5jZWxUYXNrQnRuLGRlbGV0ZUJ0bk1vZGFsLG5ld0NhdEJ0bixva0NhdEJ0bixjYW5jZWxDYXRCdG4saW5ib3hCdG4scmVzcG9uc2liaWxpdGllc0J0bixldmVudHNCdG4scHJvZ3JhbW1pbmdCdG4sdGl0bGVJbnB1dCxjYXRlZ29yeVNlbGVjdCxkdWVEYXRlU2VsZWN0LHByaW9yaXR5U2VsZWN0LGRlc2NyaXB0aW9uSW5wdXQsY2F0ZWdvcnlCdXR0b25zLGFsbEJ0biwgdG9kYXlCdG4sIHRoaXNXZWVrQnRuLCB0aGlzTW9udGhCdG4sIHBhZ2VUaW1lbGluZSwgY29sb3JQaWNrZXIsIGNvbG9yRGlzcGxheSAgXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gdGFza0V2TGlzdGVuZXJzKCl7XG4gIGNyZWF0ZVRhc2tCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHsgLy8gQnJpbmdzIHVwIG5ldyB0YXNrIG1vZGFsIFxuICAgICAgLy8gU2V0IGRlZmF1bHQgaW5wdXRzXG4gICAgICB0aXRsZUlucHV0LnZhbHVlID0gXCJcIjtcbiAgICAgIGNhdGVnb3J5U2VsZWN0LnZhbHVlID0gc2VsZWN0ZWRDYXRlZ29yeTtcbiAgICAgIGxldCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICBsZXQgZGQgPSBTdHJpbmcodG9kYXkuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAnMCcpO1xuICAgICAgbGV0IG1tID0gU3RyaW5nKHRvZGF5LmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpO1xuICAgICAgbGV0IHl5eXkgPSB0b2RheS5nZXRGdWxsWWVhcigpO1xuICAgICAgXG4gICAgICAvLyBGb3JtYXQgdGhlIGRhdGUgYXMgXCJtbS1kZC15eXl5XCJcbiAgICAgIHRvZGF5ID0geXl5eSArICctJyArIG1tICsgJy0nICsgZGQ7XG4gICAgICBkdWVEYXRlU2VsZWN0LnZhbHVlID0gdG9kYXlcbiAgICAgIFxuICAgICAgcHJpb3JpdHlTZWxlY3QudmFsdWUgPSBcIkxvd1wiO1xuICAgICAgZGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IFwiXCI7XG4gIFxuICAgICAgLy8gU2hvdyB0aGUgbW9kYWxcbiAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gIH0pO1xuICBcbiAgY2FuY2VsVGFza0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBQcmV2ZW50IHRoZSBmb3JtIGZyb20gc3VibWl0dGluZ1xuICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICB9KTtcblxuICBva1Rhc2tCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkgeyAvL0NhbGxzIGFkZFRhc2sgb3IgZWRpdFRhc2tcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybScpLnJlcG9ydFZhbGlkaXR5KCkpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRpdGxlSW5wdXQuY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBBc3NpZ24gcHJvcGVydHkgdmFsdWVzIGJhc2VkIG9mZiBpbnB1dHNcbiAgICAgICAgICBsZXQgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpLnZhbHVlO1xuICAgICAgICAgIGxldCBjYXRlZ29yeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2F0ZWdvcnlcIikudmFsdWU7XG4gICAgICAgICAgbGV0IGNhdGVnb3J5VmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhdGVnb3J5XCIpLnZhbHVlO1xuICAgICAgICAgIGxldCBjYXRlZ29yeU9iamVjdCA9IGNhdGVnb3JpZXMuZmluZChjYXRlZ29yeSA9PiBjYXRlZ29yeS5uYW1lID09PSBjYXRlZ29yeVZhbHVlKTtcbiAgICAgICAgICBsZXQgZHVlRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZHVlRGF0ZVwiKS52YWx1ZTtcbiAgICAgICAgICBsZXQgaW1wb3J0YW5jZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJpb3JpdHlcIikudmFsdWU7XG4gICAgICAgICAgbGV0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvblwiKS52YWx1ZTtcbiAgICAgIFxuICAgICAgICAgIC8vIENoZWNrIGlmIHdlJ3JlIGNyZWF0aW5nIGEgbmV3IHRhc2sgb3IgdXBkYXRpbmcgYW4gZXhpc3Rpbmcgb25lXG4gICAgICAgICAgaWYgKHRpdGxlSW5wdXQuZGF0YXNldC5lZGl0aW5nVGFza0lkKSB7XG4gICAgICAgICAgICAgIGVkaXRUYXNrKHRpdGxlLCBjYXRlZ29yeU9iamVjdCwgZHVlRGF0ZSwgaW1wb3J0YW5jZSwgZGVzY3JpcHRpb24pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGFkZFRhc2sodGl0bGUsIGNhdGVnb3J5LCBjYXRlZ29yeU9iamVjdCwgZHVlRGF0ZSwgaW1wb3J0YW5jZSwgZGVzY3JpcHRpb24pO1xuICAgICAgICAgIH1cbiAgXG4gICAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgXG4gICAgICAgIH0gZWxzZSB7IHRpdGxlSW5wdXQuY2xhc3NMaXN0LmFkZCgnZXJyb3InKTsgfVxuICAgICAgXG4gICAgZnVuY3Rpb24gYWRkVGFzayh0aXRsZSwgY2F0ZWdvcnksIGNhdGVnb3J5T2JqZWN0LCBkdWVEYXRlLCBpbXBvcnRhbmNlLCBkZXNjcmlwdGlvbil7XG4gICAgICAgIC8vIENyZWF0ZSBUYXNrIE9iamVjdCBcbiAgICAgICAgbGV0IG5ld1Rhc2sgPSBuZXcgVGFzayh0YXNrQ291bnRlciwgdGl0bGUsIGNhdGVnb3J5T2JqZWN0LCBkdWVEYXRlLCBpbXBvcnRhbmNlLCBkZXNjcmlwdGlvbik7XG4gICAgXG4gICAgICAgIHRhc2tDb3VudGVyKys7XG4gICAgICAgIGNhdGVnb3J5T2JqZWN0LmFkZFRhc2tUb0NhdChuZXdUYXNrKTtcbiAgICAgICAgbGV0IHRhc2tJZCA9IG5ld1Rhc2suaWRcbiAgICAgICAgXG4gICAgICAgIC8vIENvbnRhaW5lciBkaXYgZm9yIHRoZSB0YXNrIGFuZCB0aGUgbGluZSBicmVha1xuICAgICAgICBjb25zdCB0YXNrQ29udGFpbmVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRhc2tDb250YWluZXJEaXYuY2xhc3NMaXN0LmFkZCgndGFza0NvbnRhaW5lckRpdicpO1xuICAgIFxuICAgICAgICAvLyBBZGQgVGFzayBEaXZcbiAgICAgICAgZnVuY3Rpb24gYWRkVGFza0Rpdih0YXNrSWQsIHRpdGxlLCBjYXRlZ29yeSwgZHVlRGF0ZSwgdGFza0NvdW50ZXIsIHByaW9yaXR5U2VsZWN0KXtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tCaWdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHRhc2tCaWdEaXYuY2xhc3NMaXN0LmFkZCgndGFza0JpZ0RpdicpO1xuICAgICAgICAgICAgY29uc3QgdGFza0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgdGFza0Rpdi5jbGFzc0xpc3QuYWRkKCd0YXNrRGl2Jyk7XG4gICAgICAgICAgICB0YXNrRGl2LmlkID0gdGFza0lkO1xuICAgICAgICAgICAgdGFza0Rpdi5kYXRhc2V0LnRhc2tJZCA9IHRhc2tJZDtcbiAgICBcbiAgICAgICAgICAgIHRhc2tEaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBvcGVuVGFza01vZGFsRm9yRWRpdGluZyhuZXdUYXNrKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdGFza1ByaW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICB0YXNrUHJpbS5jbGFzc0xpc3QuYWRkKCd0YXNrUHJpbScpO1xuICAgICAgICAgICAgdGFza0Rpdi5hcHBlbmRDaGlsZCh0YXNrUHJpbSk7XG4gICAgXG4gICAgICAgICAgICAgICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICAgICAgICAgICAgICBjaGVja2JveC50eXBlID0gJ2NoZWNrYm94JztcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICB0YXNrVGl0bGUuY2xhc3NMaXN0LmFkZCgnY29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICAgICAgdGFza0NhdGVnb3J5LmNsYXNzTGlzdC5hZGQoJ2NvbXBsZXRlJyk7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tEdWVEYXRlLmNsYXNzTGlzdC5hZGQoJ2NvbXBsZXRlJyk7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tQcmlvcml0eS5jbGFzc0xpc3QuYWRkKCdjb21wbGV0ZScpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFza1RpdGxlLmNsYXNzTGlzdC5yZW1vdmUoJ2NvbXBsZXRlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrQ2F0ZWdvcnkuY2xhc3NMaXN0LnJlbW92ZSgnY29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICAgICAgdGFza0R1ZURhdGUuY2xhc3NMaXN0LnJlbW92ZSgnY29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICAgICAgdGFza1ByaW9yaXR5LmNsYXNzTGlzdC5yZW1vdmUoJ2NvbXBsZXRlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgXG4gICAgICAgICAgICAgICAgY29uc3QgdGFza1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tUaXRsZS5jbGFzc0xpc3QuYWRkKCd0YXNrVGl0bGUnKTtcbiAgICAgICAgICAgICAgICAgICAgdGFza1RpdGxlLnRleHRDb250ZW50ID0gdGl0bGU7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFza0NhdGVnb3J5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tDYXRlZ29yeS5jbGFzc0xpc3QuYWRkKCd0YXNrQ2F0ZWdvcnknKTtcbiAgICAgICAgICAgICAgICAgICAgdGFza0NhdGVnb3J5LnRleHRDb250ZW50ID0gXCIoXCIgKyBjYXRlZ29yeSArIFwiKVwiO1xuICAgIFxuICAgICAgICAgICAgICAgIHRhc2tQcmltLmFwcGVuZENoaWxkKGNoZWNrYm94KTt0YXNrUHJpbS5hcHBlbmRDaGlsZCh0YXNrVGl0bGUpO3Rhc2tQcmltLmFwcGVuZENoaWxkKHRhc2tDYXRlZ29yeSk7XG4gICAgXG4gICAgICAgICAgICBjb25zdCB0YXNrU2VjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgdGFza1NlYy5jbGFzc0xpc3QuYWRkKCd0YXNrU2VjJyk7XG4gICAgICAgICAgICB0YXNrRGl2LmFwcGVuZENoaWxkKHRhc2tTZWMpO1xuICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tEdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tEdWVEYXRlLmNsYXNzTGlzdC5hZGQoJ3Rhc2tEdWVEYXRlJyk7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tEdWVEYXRlLnRleHRDb250ZW50ID0gZm9ybWF0RGF0ZUZvcklucHV0KGR1ZURhdGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgICAgICB0YXNrUHJpb3JpdHkuY2xhc3NMaXN0LmFkZCgndGFza1ByaW9yaXR5Jyk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFza1ByaW9yaXR5SW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICAgICAgaWYocHJpb3JpdHlTZWxlY3QudmFsdWUgPT0gXCJIaWdoZXN0XCIpe3Rhc2tQcmlvcml0eUltZy5zcmMgPSBcIi4vaW1hZ2VzL3dhcm5pbmctMzMzLnBuZ1wifVxuICAgICAgICAgICAgICAgIGVsc2UgaWYocHJpb3JpdHlTZWxlY3QudmFsdWUgPT0gXCJIaWdoXCIpe3Rhc2tQcmlvcml0eUltZy5zcmMgPSBcIi4vaW1hZ2VzL3dhcm5pbmctMjIyLnBuZ1wifVxuICAgICAgICAgICAgICAgIGVsc2UgaWYocHJpb3JpdHlTZWxlY3QudmFsdWUgPT0gXCJNZWRpdW1cIil7dGFza1ByaW9yaXR5SW1nLnNyYyA9IFwiLi9pbWFnZXMvd2FybmluZy0xMTEucG5nXCJ9XG4gICAgICAgICAgICAgICAgZWxzZSB7dGFza1ByaW9yaXR5SW1nLnNyYyA9IFwiLi9pbWFnZXMvd2FybmluZ19ncmV5LnBuZ1wifVxuICAgICAgICAgICAgICAgICAgICB0YXNrUHJpb3JpdHlJbWcuY2xhc3NMaXN0LmFkZCgnc3ltYm9sJyk7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tQcmlvcml0eS5hcHBlbmRDaGlsZCh0YXNrUHJpb3JpdHlJbWcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZUJ0bkJpZ0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGVCdG5CaWdEaXYuaWQgPSB0YXNrSWQ7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZUJ0bkJpZ0Rpdi5zcmMgPSBcIi4vaW1hZ2VzL2RlbGV0ZS5wbmdcIjsgLy8gQ2hhbmdlIHRvIHlvdXIgZGVsZXRlIGltYWdlJ3MgcGF0aFxuICAgICAgICAgICAgICAgICAgICBkZWxldGVCdG5CaWdEaXYuY2xhc3NMaXN0LmFkZCgnc3ltYm9sJyk7XG4gICAgXG4gICAgICAgICAgICAgICAgZGVsZXRlQnRuQmlnRGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCB0YXNrSWQgZnJvbSB0aGUgZWRpdGluZ1Rhc2tJZCBkYXRhIGF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgICAgICBsZXQgdGFza0lkID0gZGVsZXRlQnRuQmlnRGl2LmlkO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRhc2tJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ05vIHRhc2sgaXMgY3VycmVudGx5IGJlaW5nIGVkaXRlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9IGRlbGV0ZVRhc2sodGFza0lkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgICAgICAgICB0YXNrU2VjLmFwcGVuZENoaWxkKHRhc2tEdWVEYXRlKTsgdGFza1NlYy5hcHBlbmRDaGlsZCh0YXNrUHJpb3JpdHkpO1xuICAgICAgICAgICAgICAgIHRhc2tCaWdEaXYuYXBwZW5kQ2hpbGQodGFza0Rpdik7dGFza0JpZ0Rpdi5hcHBlbmRDaGlsZChkZWxldGVCdG5CaWdEaXYpO1xuICAgIFxuICAgICAgICAgICAgY29uc3QgbGluZWJyZWFrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaHInKTtcbiAgICBcbiAgICAgICAgICAgIHRhc2tDb250YWluZXJEaXYuYXBwZW5kQ2hpbGQodGFza0JpZ0Rpdik7dGFza0NvbnRhaW5lckRpdi5hcHBlbmRDaGlsZChsaW5lYnJlYWspO3Rhc2tzQ29udGFpbmVyLmFwcGVuZENoaWxkKHRhc2tDb250YWluZXJEaXYpOyAgICBcbiAgICAgICAgfSBhZGRUYXNrRGl2KHRhc2tJZCwgdGl0bGUsIGNhdGVnb3J5LCBkdWVEYXRlLCB0YXNrQ291bnRlciwgcHJpb3JpdHlTZWxlY3QpO1xuICAgICAgICBcbiAgICAgICAgLy9IZWxwZXIgRnVuY3Rpb25cbiAgICAgICAgZnVuY3Rpb24gb3BlblRhc2tNb2RhbEZvckVkaXRpbmcodGFzayl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0YXNrKTtcbiAgICAgICAgICAgIC8vIFNldCB0aGUgZm9ybSBpbnB1dHMgdG8gdGhlIHRhc2sncyB2YWx1ZXNcbiAgICAgICAgICAgIHRpdGxlSW5wdXQudmFsdWUgPSB0YXNrLnRpdGxlO1xuICAgICAgICAgICAgY2F0ZWdvcnlTZWxlY3QudmFsdWUgPSB0YXNrLmNhdGVnb3J5Lm5hbWU7XG4gICAgICAgICAgICBkdWVEYXRlU2VsZWN0LnZhbHVlID0gdGFzay5kdWVEYXRlO1xuICAgICAgICAgICAgcHJpb3JpdHlTZWxlY3QudmFsdWUgPSB0YXNrLnByaW9yaXR5O1xuICAgICAgICAgICAgZGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHRhc2suZGVzY3JpcHRpb247XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNldCB0aGUgZGF0YSBhdHRyaWJ1dGUgb24gdGhlIHRpdGxlIGlucHV0IHRvIHRoZSB0YXNrJ3MgaWQgc28gd2Uga25vdyB3aGljaCB0YXNrIGlzIGJlaW5nIGVkaXRlZFxuICAgICAgICAgICAgdGl0bGVJbnB1dC5kYXRhc2V0LmVkaXRpbmdUYXNrSWQgPSB0YXNrLmlkO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTaG93IHRoZSBtb2RhbFxuICAgICAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZWRpdFRhc2sodGl0bGUsIGNhdGVnb3J5T2JqZWN0LCBkdWVEYXRlLCBpbXBvcnRhbmNlLCBkZXNjcmlwdGlvbil7XG4gICAgICAgIC8vIEVkaXRpbmcgVGFzayBPYmplY3RcbiAgICAgICAgbGV0IHRhc2tJZCA9IHRpdGxlSW5wdXQuZGF0YXNldC5lZGl0aW5nVGFza0lkO1xuICAgICAgICBsZXQgdGFza09iamVjdDtcbiAgICAgICAgZm9yKGxldCBjYXRlZ29yeSBvZiBjYXRlZ29yaWVzKSB7XG4gICAgICAgICAgICB0YXNrT2JqZWN0ID0gY2F0ZWdvcnkudGFza3MuZmluZCh0YXNrID0+IHRhc2suaWQgPT0gdGFza0lkKTtcbiAgICAgICAgICAgIGlmKHRhc2tPYmplY3QpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGFza09iamVjdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBObyB0YXNrIGZvdW5kIHdpdGggaWQgJHt0YXNrSWR9YCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLy8gVXBkYXRlIHRoZSB0YXNrIG9iamVjdCdzIHZhbHVlc1xuICAgICAgICB0YXNrT2JqZWN0LnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRhc2tPYmplY3QuY2F0ZWdvcnkgPSBjYXRlZ29yeU9iamVjdDtcbiAgICAgICAgdGFza09iamVjdC5kdWVEYXRlID0gZHVlRGF0ZTtcbiAgICAgICAgdGFza09iamVjdC5wcmlvcml0eSA9IGltcG9ydGFuY2U7XG4gICAgICAgIHRhc2tPYmplY3QuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICBcbiAgICAgICAgLy8gTG9nIHRoZSB0YXNrSWQgYW5kIHRhc2tEaXYgaGVyZVxuICAgICAgICBjb25zb2xlLmxvZygnZWRpdGluZyB0YXNrLCB0aXRsZTogJyArIHRpdGxlICsgJyBpZDogJyArIHRhc2tJZCk7XG4gICAgICAgIGxldCB0YXNrRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFza0lkKTtcbiAgICBcbiAgICAgICAgLy8gVXBkYXRlIHRoZSB0YXNrRGl2J3MgdGV4dENvbnRlbnQgdG8gcmVmbGVjdCB0aGUgbmV3IHZhbHVlc1xuICAgICAgICB0YXNrRGl2LnF1ZXJ5U2VsZWN0b3IoJy50YXNrVGl0bGUnKS50ZXh0Q29udGVudCA9IHRpdGxlO1xuICAgICAgICB0YXNrRGl2LnF1ZXJ5U2VsZWN0b3IoJy50YXNrQ2F0ZWdvcnknKS50ZXh0Q29udGVudCA9IGAoJHtjYXRlZ29yeU9iamVjdC5uYW1lfSlgO1xuICAgICAgICB0YXNrRGl2LnF1ZXJ5U2VsZWN0b3IoJy50YXNrRHVlRGF0ZScpLnRleHRDb250ZW50ID0gZm9ybWF0RGF0ZUZvcklucHV0KGR1ZURhdGUpO1xuICAgICAgICBsZXQgdGFza1ByaW9yaXR5SW1nID0gdGFza0Rpdi5xdWVyeVNlbGVjdG9yKCcuc3ltYm9sJyk7XG4gICAgICAgICAgICBpZihpbXBvcnRhbmNlID09IFwiSGlnaGVzdFwiKXt0YXNrUHJpb3JpdHlJbWcuc3JjID0gXCIuL2ltYWdlcy93YXJuaW5nLTMzMy5wbmdcIn1cbiAgICAgICAgICAgIGVsc2UgaWYoaW1wb3J0YW5jZSA9PSBcIkhpZ2hcIil7dGFza1ByaW9yaXR5SW1nLnNyYyA9IFwiLi9pbWFnZXMvd2FybmluZy0yMjIucG5nXCJ9XG4gICAgICAgICAgICBlbHNlIGlmKGltcG9ydGFuY2UgPT0gXCJNZWRpdW1cIil7dGFza1ByaW9yaXR5SW1nLnNyYyA9IFwiLi9pbWFnZXMvd2FybmluZy0xMTEucG5nXCJ9XG4gICAgICAgICAgICBlbHNlIHt0YXNrUHJpb3JpdHlJbWcuc3JjID0gXCIuL2ltYWdlcy93YXJuaW5nX2dyZXkucG5nXCJ9XG4gICAgXG4gICAgICAgIGRlbGV0ZSB0aXRsZUlucHV0LmRhdGFzZXQuZWRpdGluZ1Rhc2tJZDtcbiAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cbiAgICBzZWxlY3RlZFRpbWVsaW5lID0gbnVsbDtcbiAgICBzZWxlY3RlZFRpbWVsaW5lQnRuID0gYWxsQnRuO1xuICAgIHNlbGVjdFRpbWVGaWx0ZXIoc2VsZWN0ZWRUaW1lbGluZSwgc2VsZWN0ZWRUaW1lbGluZUJ0bik7XG4gICAgc2VsZWN0ZWRDYXRlZ29yeSA9IGNhdGVnb3J5U2VsZWN0LnZhbHVlO1xuICAgIHNlbGVjdENhdEZpbHRlcihzZWxlY3RlZENhdGVnb3J5KTtcbiAgICB1cGRhdGVQYWdlVGl0bGUoc2VsZWN0ZWRDYXRlZ29yeUJ0bik7XG4gIH0pO1xuXG4gIGRlbGV0ZUJ0bk1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICBcbiAgICAgIC8vIEdldCB0YXNrSWQgZnJvbSB0aGUgZWRpdGluZ1Rhc2tJZCBkYXRhIGF0dHJpYnV0ZVxuICAgICAgbGV0IHRhc2tJZCA9IHRpdGxlSW5wdXQuZGF0YXNldC5lZGl0aW5nVGFza0lkO1xuICBcbiAgICAgIGlmICghdGFza0lkKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ05vIHRhc2sgaXMgY3VycmVudGx5IGJlaW5nIGVkaXRlZCcpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgXG4gICAgICBkZWxldGVUYXNrKHRhc2tJZCk7XG4gIH0pOyAgLy8gKGluc2lkZSBtb2RhbCkuIE91dHNpZGUgbW9kYWwgZXYgbGlzdGVuZXIgaXMgaW5zaWRlIGFkZFRhc2tEaXYgZXZsaXN0ZW5lciAnRGVsZXRlQnRuQmlnRGl2J1xuICB0aXRsZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24oKSB7XG4gICAgICAvLyBSZW1vdmUgdGhlIGVycm9yIGNsYXNzIHdoZW4gdGhlIHRpdGxlIGlucHV0IHZhbHVlIGNoYW5nZXNcbiAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKTtcbiAgfSk7XG4gIGZ1bmN0aW9uIGRlbGV0ZVRhc2sodGFza0lkKSB7XG4gICAgICBpZiAoIWNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyB0YXNrPycpKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIHVzZXIgY2FuY2VscywganVzdCBjbG9zZSB0aGUgbW9kYWxcbiAgICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgZGVsZXRlIHRpdGxlSW5wdXQuZGF0YXNldC5lZGl0aW5nVGFza0lkO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgXG4gICAgICBsZXQgdGFza0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhc2tJZCk7XG4gICAgICBpZiAoIXRhc2tEaXYpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBObyB0YXNrIGRpdiBmb3VuZCB3aXRoIGlkICR7dGFza0lkfWApO1xuICAgICAgICAgIGRlbGV0ZSB0aXRsZUlucHV0LmRhdGFzZXQuZWRpdGluZ1Rhc2tJZDtcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG4gIFxuICAgICAgLy8gRmluZCB0aGUgdGFzayBvYmplY3QgdGhhdCBjb3JyZXNwb25kcyB0byB0aGlzIHRhc2tJZFxuICAgICAgbGV0IHRhc2tPYmplY3Q7XG4gICAgICBsZXQgdGFza0NhdGVnb3J5O1xuICAgICAgZm9yIChsZXQgY2F0ZWdvcnkgb2YgY2F0ZWdvcmllcykge1xuICAgICAgICAgIHRhc2tPYmplY3QgPSBjYXRlZ29yeS50YXNrcy5maW5kKCh0YXNrKSA9PiB0YXNrLmlkID09IHRhc2tJZCk7XG4gICAgICAgICAgaWYgKHRhc2tPYmplY3QpIHtcbiAgICAgICAgICAgICAgdGFza0NhdGVnb3J5ID0gY2F0ZWdvcnk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgXG4gICAgICAvLyBSZW1vdmUgdGhlIHRhc2sgZnJvbSB0aGUgY2F0ZWdvcnkncyB0YXNrcyBhcnJheVxuICAgICAgdGFza0NhdGVnb3J5LnJlbW92ZVRhc2tGcm9tQ2F0KHRhc2tJZCk7XG4gIFxuICAgICAgLy8gVXBkYXRlIHRoZSB0YXNrQ291bnRlclxuICAgICAgdGFza0NvdW50ZXItLTtcbiAgXG4gICAgICAvLyBVcGRhdGUgdGhlIHRhc2tDb3VudGVyXG4gICAgICB0YXNrQ291bnRlciA9IGNhdGVnb3JpZXMucmVkdWNlKChjb3VudCwgY2F0ZWdvcnkpID0+IGNvdW50ICsgY2F0ZWdvcnkudGFza3MubGVuZ3RoLCAwKTtcbiAgXG4gICAgICAvLyBEZWxldGUgdGhlIHRhc2tDb250YWluZXJEaXZcbiAgICAgIGxldCB0YXNrQ29udGFpbmVyRGl2ID0gdGFza0Rpdi5wYXJlbnROb2RlLnBhcmVudE5vZGU7XG4gICAgICB0YXNrQ29udGFpbmVyRGl2LnJlbW92ZSgpOyAvLyBSZW1vdmUgdGFza0NvbnRhaW5lckRpdlxuICBcbiAgICAgIC8vIEhpZGUgdGhlIG1vZGFsXG4gICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIFxuICAgICAgLy8gQ2xlYXIgdGhlIGVkaXRpbmdUYXNrSWQgc2luY2Ugd2UndmUganVzdCBkZWxldGVkIHRoZSB0YXNrXG4gICAgICBkZWxldGUgdGl0bGVJbnB1dC5kYXRhc2V0LmVkaXRpbmdUYXNrSWQ7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjYXRFdkxpc3RlbmVycygpe1xuICBuZXdDYXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgIGN1cnJlbnRNb2RlID0gJ25ldyc7XG4gICAgICBjYXRNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgY2F0VGl0bGUudmFsdWUgPSBcIlwiO1xuICAgICAgY29sb3JEaXNwbGF5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjOGE1OWI5JztcbiAgICAgIGNvbnNvbGUubG9nKGNvbG9yRGlzcGxheS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IpO1xuXG4gICB9KTtcbiAgIG9rQ2F0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBQcmV2ZW50IHRoZSBmb3JtIGZyb20gc3VibWl0dGluZ1xuXG4gICAgICAgaWYgKGN1cnJlbnRNb2RlID09PSAnbmV3Jykge1xuXG4gICAgICAgICAgIC8vIEdldCB0aGUgY2F0ZWdvcnkgbmFtZSBhbmQgY29sb3IgZnJvbSB0aGUgZm9ybSBpbnB1dHNcbiAgICAgICAgICAgbGV0IGNhdFRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhdFRpdGxlJykudmFsdWU7XG4gICAgICAgICAgIGxldCBjYXRDb2xvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2xvclBpY2tlcicpLnZhbHVlO1xuXG4gICAgICAgICAgIC8vU2V0IGRlZmF1bHQgY2F0IGNvbG9yIHBpY2tlclxuICAgICAgICAgICBjYXRDb2xvciA9IGNvbG9yRGlzcGxheS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgICAgIGNvbnNvbGUubG9nKGNhdENvbG9yKTtcbiAgIFxuICAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgY2F0ZWdvcnkgaW5zdGFuY2VcbiAgICAgICAgICAgbGV0IG5ld0NhdGVnb3J5ID0gbmV3IENhdGVnb3J5KGNhdFRpdGxlLCBjYXRDb2xvcik7XG4gICAgICAgICAgIGNhdGVnb3JpZXMucHVzaChuZXdDYXRlZ29yeSk7XG4gICBcbiAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IGxpc3QgaXRlbVxuICAgICAgICAgICBsZXQgbmV3Q2F0ZWdvcnlFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgICAgbGV0IG5ld0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgICBuZXdCdXR0b24uaW5uZXJUZXh0ID0gY2F0VGl0bGU7XG4gICAgICAgICAgIG5ld0J1dHRvbi5pZCA9IGNhdFRpdGxlO1xuICAgICAgICAgICBuZXdCdXR0b24uY2xhc3NMaXN0LmFkZCgnY2F0QnRucycpO1xuICAgICAgICAgICBuZXdCdXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY2F0Q29sb3I7XG4gICAgICAgICAgIG5ld0J1dHRvbi5kYXRhc2V0LmNhdElkID0gbmV3Q2F0ZWdvcnkuY2F0SWQ7XG4gICBcbiAgICAgICAgICAgaWYgKGlzRGFya0NvbG9yKGNhdENvbG9yKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coY2F0Q29sb3IpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2RhcmsnKTtcbiAgICAgICAgICAgIG5ld0J1dHRvbi5zdHlsZS5jb2xvciA9ICd3aGl0ZSc7XG4gICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYXRDb2xvcik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbGlnaHQnKTtcbiAgICAgICAgICAgIG5ld0J1dHRvbi5zdHlsZS5jb2xvciA9ICdibGFjayc7XG4gICAgICAgICAgIH1cbiAgICAgICAgICAgXG4gICAgICAgIG5ld0NhdGVnb3J5RWxlbWVudC5hcHBlbmRDaGlsZChuZXdCdXR0b24pO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2F0ZWdvcmllc0xpc3QnKS5hcHBlbmRDaGlsZChuZXdDYXRlZ29yeUVsZW1lbnQpO1xuICAgICAgICBpbml0aWFsaXplQ2F0RmlsdGVyRXZMaXN0ZW5lcnMoKTtcbiAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRNb2RlID09PSAnZWRpdCcpIHtcbiAgICAgICAgICAgLy9SZXRyaWV2ZSB0aGUgY2F0ZWdvcnkgZnJvbSB0aGUgY2F0ZWdvcmllcyBhcnJheSBiYXNlZCBvbiB0aGUgY2F0SURcbiAgICAgICAgICAgY29uc29sZS5sb2coY2F0SUQpO1xuICAgICAgICAgICBpZiAodHlwZW9mIGNhdElEICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdjYXRJZCBpcyBub3QgYSBudW1iZXIgYXQgW2Rlc2NyaXB0aW9uIG9mIHRoZSBjb2RlIGxvY2F0aW9uXScsIGNhdElEKTtcbiAgICAgICAgICAgfVxuICAgICAgICAgICBsZXQgZWRpdGluZ0NhdGVnb3J5ID0gY2F0ZWdvcmllcy5maW5kKGNhdCA9PiBjYXQuY2F0SWQgPT09IGNhdElEKTtcbiAgICAgICBcbiAgICAgICAgICAgLy9VcGRhdGUgdGhlIGNhdGVnb3J5IHZhbHVlc1xuICAgICAgICAgICBpZiAoZWRpdGluZ0NhdGVnb3J5KSB7XG4gICAgICAgICAgICAgICBlZGl0aW5nQ2F0ZWdvcnkubmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXRUaXRsZScpLnZhbHVlO1xuICAgICAgICAgICAgICAgZWRpdGluZ0NhdGVnb3J5LmNvbG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbG9yUGlja2VyJykudmFsdWU7XG4gICAgICAgXG4gICAgICAgICAgICAgICAvL1VwZGF0ZSB0aGUgVUkgZWxlbWVudCAoYnV0dG9uIGluIHRoaXMgY2FzZSkgcmVwcmVzZW50aW5nIHRoZSBjYXRlZ29yeVxuICAgICAgICAgICAgICAgbGV0IGFzc29jaWF0ZWRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBidXR0b25bZGF0YS1jYXQtaWQ9XCIke2NhdElEfVwiXWApO1xuICAgICAgICAgICAgICAgaWYgKGFzc29jaWF0ZWRCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICBhc3NvY2lhdGVkQnV0dG9uLmlubmVyVGV4dCA9IGVkaXRpbmdDYXRlZ29yeS5uYW1lO1xuICAgICAgICAgICAgICAgICAgIGFzc29jaWF0ZWRCdXR0b24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gZWRpdGluZ0NhdGVnb3J5LmNvbG9yO1xuICAgICAgIFxuICAgICAgICAgICAgICAgICAgIC8vQ2hlY2sgY29sb3IgYnJpZ2h0bmVzcyB0byBhZGp1c3QgdGV4dCBjb2xvciBmb3IgYmV0dGVyIHZpc2liaWxpdHlcbiAgICAgICAgICAgICAgICAgICBpZiAoaXNEYXJrQ29sb3IoZWRpdGluZ0NhdGVnb3J5LmNvbG9yKSkge1xuICAgICAgICAgICAgICAgICAgICAgICBhc3NvY2lhdGVkQnV0dG9uLnN0eWxlLmNvbG9yID0gJ3doaXRlJztcbiAgICAgICAgICAgICAgICAgICAgICAgcGFnZVRpdGxlLnN0eWxlLmNvbG9yID0gJ3doaXRlJztcbiAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocGFnZVRpdGxlLnN0eWxlLmNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICBhc3NvY2lhdGVkQnV0dG9uLnN0eWxlLmNvbG9yID0gJ2JsYWNrJztcbiAgICAgICAgICAgICAgICAgICAgICAgcGFnZVRpdGxlLnN0eWxlLmNvbG9yID0gJ2JsYWNrJztcbiAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocGFnZVRpdGxlLnN0eWxlLmNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDb3VsZCBub3QgZmluZCBjYXRlZ29yeSB3aXRoIElEOicsIGNhdElEKTtcbiAgICAgICAgICAgfVxuXG4gICAgICAgICAgIC8vVXBkYXRlIHBhZ2UgdGl0bGVcbiAgICAgICAgICAgcGFnZVRpdGxlLmlubmVySFRNTCA9IGNhdFRpdGxlLnZhbHVlO1xuICAgICAgICAgICBjb25zb2xlLmxvZyhjb2xvclBpY2tlci52YWx1ZSk7XG4gICAgICAgICAgIHBhZ2VUaXRsZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvclBpY2tlci52YWx1ZTtcbiAgICAgICB9XG4gICAgICAgdXBkYXRlQ2F0ZWdvcnlEcm9wZG93bigpO1xuICAgXG4gICAgICAgY2F0TW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgXG4gICAgICAgLy8gSGVscGVyIEZ1bmN0aW9uXG4gICAgICAgZnVuY3Rpb24gdXBkYXRlQ2F0ZWdvcnlEcm9wZG93bigpIHtcbiAgICAgICAgICAgLy8gQ2xlYXIgYW55IGV4aXN0aW5nIG9wdGlvbnNcbiAgICAgICAgICAgbGV0IGNhdGVnb3J5U2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhdGVnb3J5Jyk7XG4gICAgICAgICAgIHdoaWxlIChjYXRlZ29yeVNlbGVjdC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICBjYXRlZ29yeVNlbGVjdC5yZW1vdmVDaGlsZChjYXRlZ29yeVNlbGVjdC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgfVxuICAgICAgICAgICAvLyBBZGQgbmV3IG9wdGlvbnMgYmFzZWQgb24gdGhlIGNhdGVnb3JpZXMgYXJyYXlcbiAgICAgICAgICAgY2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgICAgICAgIGxldCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IGNhdGVnb3J5Lm5hbWU7XG4gICAgICAgICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBjYXRlZ29yeS5uYW1lO1xuICAgICAgICAgICAgICAgY2F0ZWdvcnlTZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgICAgfSk7XG4gICAgICAgfVxuICAgfSk7XG4gICBjYW5jZWxDYXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkgeyAgICBcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNhdE1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICAgfSk7XG4gICBwYWdlVGl0bGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgIGNhdElEID0gcGFyc2VJbnQodGhpcy5kYXRhc2V0LmNhdElkKTtcbiAgICAgICBjdXJyZW50TW9kZSA9ICdlZGl0JztcbiAgICAgICBvcGVuQ2F0TW9kYWxGb3JFZGl0aW5nKHBhZ2VUaXRsZSwgY2F0SUQpO1xuICAgICAgIGZ1bmN0aW9uIG9wZW5DYXRNb2RhbEZvckVkaXRpbmcocGFnZVRpdGxlLCBjYXRJRCl7XG4gICAgICAgICAgIGxldCBjYXRUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXRUaXRsZScpO1xuICAgICAgICAgICBsZXQgY29sb3JEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbG9yRGlzcGxheScpO1xuICAgICAgIFxuICAgICAgICAgICAvLyBTZXQgdGhlIGZvcm0gaW5wdXRzIHRvIHRoZSB0YXNrJ3MgdmFsdWVzXG4gICAgICAgICAgIGNhdFRpdGxlLnZhbHVlID0gcGFnZVRpdGxlLnRleHRDb250ZW50O1xuICAgICAgICAgICBjb2xvckRpc3BsYXkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gcGFnZVRpdGxlLnN0eWxlLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgXG4gICAgICAgICAgIC8vIFNob3cgdGhlIG1vZGFsXG4gICAgICAgICAgIGNhdE1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgfVxuICAgfSk7XG4gICBjb2xvckRpc3BsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAvLyBHZXQgdGhlIFJHQiBjb2xvciAmIGNvbnZlcnQgdG8gaGV4LiBUaGVuIHNldCB0aGUgY29sb3JQaWNrZXIgdmFsdWUgdG8gdGhlIGhleFxuICAgIGxldCByZ2JDb2xvciA9IGNvbG9yRGlzcGxheS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgbGV0IGhleENvbG9yID0gcmdiVG9IZXgocmdiQ29sb3IpO1xuICAgIGNvbG9yUGlja2VyLnZhbHVlID0gaGV4Q29sb3I7XG4gICAgY29sb3JQaWNrZXIuY2xpY2soKTtcbiAgICAgIFxuICAgIH0pO1xuICAgY29sb3JQaWNrZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbigpIHsgICAgIC8vIFdoZW4geW91IHBpY2sgYSBjb2xvciwgdXBkYXRlIHRoZSBkaXNwbGF5XG4gICAgICBjb2xvckRpc3BsYXkuc3R5bGUuYmFja2dyb3VuZCA9IGNvbG9yUGlja2VyLnZhbHVlO1xuICAgIH0pO1xufTtcbmV4cG9ydCBmdW5jdGlvbiBzZXREZWZhdWx0RmlsdGVycygpe1xuICBzZWxlY3RlZENhdGVnb3J5QnRuLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkRmlsdGVyJylcbiAgc2VsZWN0ZWRUaW1lbGluZUJ0bi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZEZpbHRlcicpXG4gIHVwZGF0ZVBhZ2VUaXRsZShzZWxlY3RlZENhdGVnb3J5QnRuKTtcbiAgdXBkYXRlUGFnZVRhc2tzKHNlbGVjdGVkVGltZWxpbmUsIHNlbGVjdGVkQ2F0ZWdvcnkpO1xufTtcbmV4cG9ydCBmdW5jdGlvbiB0aW1lRmlsdGVyRXZMaXN0ZW5lcnMoKXtcbiAgLy9UaW1lbGluZSBidXR0b25zIGV2ZW50IGxpc3RlbmVyc1xuICB0b2RheUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBzZWxlY3RlZFRpbWVsaW5lID0gdG9kYXk7XG4gICAgc2VsZWN0ZWRUaW1lbGluZUJ0biA9IHRvZGF5QnRuO1xuICAgIHNlbGVjdFRpbWVGaWx0ZXIoc2VsZWN0ZWRUaW1lbGluZSwgc2VsZWN0ZWRUaW1lbGluZUJ0bik7XG4gICAgcGFnZVRpbWVsaW5lLnRleHRDb250ZW50ID0gdGhpcy50ZXh0Q29udGVudDtcblxufSk7XG4gIHRoaXNXZWVrQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3Qgb25lV2Vla0xhdGVyID0gbmV3IERhdGUoKTtcbiAgICAgIG9uZVdlZWtMYXRlci5zZXREYXRlKHRvZGF5LmdldERhdGUoKSArIDcpO1xuICAgICAgc2VsZWN0ZWRUaW1lbGluZSA9IG9uZVdlZWtMYXRlcjtcbiAgICAgIHNlbGVjdGVkVGltZWxpbmVCdG4gPSB0aGlzV2Vla0J0bjtcbiAgICAgIHNlbGVjdFRpbWVGaWx0ZXIoc2VsZWN0ZWRUaW1lbGluZSwgc2VsZWN0ZWRUaW1lbGluZUJ0bik7XG4gICAgICBwYWdlVGltZWxpbmUudGV4dENvbnRlbnQgPSB0aGlzLnRleHRDb250ZW50O1xuICB9KTtcbiAgdGhpc01vbnRoQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3Qgb25lTW9udGhMYXRlciA9IG5ldyBEYXRlKCk7XG4gICAgICBvbmVNb250aExhdGVyLnNldERhdGUodG9kYXkuZ2V0RGF0ZSgpICsgMzApO1xuICAgICAgc2VsZWN0ZWRUaW1lbGluZSA9IG9uZU1vbnRoTGF0ZXI7XG4gICAgICBzZWxlY3RlZFRpbWVsaW5lQnRuID0gdGhpc01vbnRoQnRuO1xuICAgICAgc2VsZWN0VGltZUZpbHRlcihzZWxlY3RlZFRpbWVsaW5lLCBzZWxlY3RlZFRpbWVsaW5lQnRuKTtcbiAgICAgIHBhZ2VUaW1lbGluZS50ZXh0Q29udGVudCA9IHRoaXMudGV4dENvbnRlbnQ7XG4gIH0pO1xuICBhbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBzZWxlY3RlZFRpbWVsaW5lID0gbnVsbDtcbiAgICAgIHNlbGVjdGVkVGltZWxpbmVCdG4gPSBhbGxCdG47XG4gICAgICBzZWxlY3RUaW1lRmlsdGVyKHNlbGVjdGVkVGltZWxpbmUsIHNlbGVjdGVkVGltZWxpbmVCdG4pO1xuICAgICAgcGFnZVRpbWVsaW5lLnRleHRDb250ZW50ID0gdGhpcy50ZXh0Q29udGVudDtcbiAgfSk7XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGNhdEZpbHRlckV2TGlzdGVuZXJzKCl7XG4gIC8vUmVzZWxlY3QgY2F0ZWdvcnkgYnV0dG9ucyB0byBwaWNrIHVwIGFueSBuZXdseSBhZGRlZCBvbmUgIFxuICBjYXRlZ29yeUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2F0QnRucycpOyBcbiAgY2F0ZWdvcnlCdXR0b25zLmZvckVhY2goKGNhdEJ0bikgPT4ge1xuICAgIGNhdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBTZXQgc2VsZWN0ZWRDYXRlZ29yeSB0byB0aGUgY2xpY2tlZCBidXR0b24ncyB0ZXh0IGNvbnRlbnRcbiAgICAgICAgc2VsZWN0ZWRDYXRlZ29yeSA9IHRoaXMudGV4dENvbnRlbnQ7XG4gICAgICAgIGNhdElEID0gcGFyc2VJbnQodGhpcy5kYXRhc2V0LmNhdElkKTtcbiAgICAgICAgc2VsZWN0Q2F0RmlsdGVyKHNlbGVjdGVkQ2F0ZWdvcnkpO1xuICAgIH0pO1xuICB9KTsgXG59XG5leHBvcnQgZnVuY3Rpb24gZGlzcGxheVNldHRpbmdzKCl7XG4gIGNvbGxhcHNlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7IC8vIE5hdiBDb2xsYXBzZSAmIEV4cGFuZFxuICAgICAgY29uc3QgbmF2RGlzcGxheVN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUobmF2KS5kaXNwbGF5O1xuICAgICAgY29uc3Qgc2NyZWVuV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIGNvbnN0IGlzU21hbGxTY3JlZW4gPSBzY3JlZW5XaWR0aCA8IDc1MDtcbiAgICBcbiAgICAgIGlmIChpc1NtYWxsU2NyZWVuKSB7XG4gICAgICAgIGlmIChuYXZEaXNwbGF5U3R5bGUgPT09ICdub25lJykge1xuICAgICAgICAgIG5hdi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICBuYXYuc3R5bGUuekluZGV4ID0gJzInO1xuICAgICAgICAgIGNvbnRlbnQuc3R5bGUuZ3JpZENvbHVtbiA9ICcxIC8gMyc7XG4gICAgICAgICAgY29udGVudC5jbGFzc0xpc3QuYWRkKCdvdmVybGF5Jyk7XG4gICAgICAgICAgY29sbGFwc2VCdG4uc3JjID0gJy4vaW1hZ2VzL2NvbGxhcHNlMy5wbmcnO1xuICAgICAgICAvLyAgIGNvbGxhcHNlQnRuLnN0eWxlLm1hcmdpbkxlZnQgPSAnMTQwcHgnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5hdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgIG5hdi5zdHlsZS56SW5kZXggPSAnJztcbiAgICAgICAgICBjb250ZW50LnN0eWxlLmdyaWRDb2x1bW4gPSAnMSAvIC0xJztcbiAgICAgICAgICBjb250ZW50LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJsYXknKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnZXhwYW5kJyk7XG4gICAgICAgICAgY29sbGFwc2VCdG4uc3JjID0gJy4vaW1hZ2VzL2V4cGFuZDMucG5nJztcbiAgICAgICAgLy8gICBjb2xsYXBzZUJ0bi5zdHlsZS5tYXJnaW5MZWZ0ID0gJzEycHgnO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobmF2RGlzcGxheVN0eWxlID09PSAnbm9uZScpIHtcbiAgICAgICAgICBuYXYuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgbmF2LnN0eWxlLnpJbmRleCA9ICcnO1xuICAgICAgICAgIGNvbnRlbnQuc3R5bGUuZ3JpZENvbHVtbiA9ICcyLzMnO1xuICAgICAgICAgIGNvbnRlbnQuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmxheScpO1xuICAgICAgICAgIGNvbGxhcHNlQnRuLnNyYyA9ICcuL2ltYWdlcy9jb2xsYXBzZTMucG5nJztcbiAgICAgICAgLy8gICBjb2xsYXBzZUJ0bi5zdHlsZS5tYXJnaW5MZWZ0ID0gJzI0MHB4JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuYXYuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICBuYXYuc3R5bGUuekluZGV4ID0gJyc7XG4gICAgICAgICAgY29udGVudC5zdHlsZS5ncmlkQ29sdW1uID0gJzEgLyAtMSc7XG4gICAgICAgICAgY29udGVudC5jbGFzc0xpc3QucmVtb3ZlKCdvdmVybGF5Jyk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2V4cGFuZCcpO1xuICAgICAgICAgIGNvbGxhcHNlQnRuLnNyYyA9ICcuL2ltYWdlcy9leHBhbmQzLnBuZyc7XG4gICAgICAgIC8vICAgY29sbGFwc2VCdG4uc3R5bGUubWFyZ2luTGVmdCA9ICcxMnB4JztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICBzcGFuLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsgLy8gQ2xvc2VzIHRhc2sgbW9kYWwgb24gY2xpY2tpbmcgWFxuICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgZGVsZXRlIHRpdGxlSW5wdXQuZGF0YXNldC5lZGl0aW5nVGFza0lkO1xuICB9OyBcbiAgc3BhbkNhdE1vZGFsLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsgLy8gQ2xvc2VzIGNhdG1vZGFsIG9uIGNsaWNraW5nIFhcbiAgICAgIGNhdE1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgfSAgICAgXG4gIHdpbmRvdy5vbmNsaWNrID0gZnVuY3Rpb24oZXZlbnQpIHsgLy8gQ2xvc2VzIE1vZGFscyB3aGVuIGNsaWNraW5nIG91dHNpZGUgb2YgaXQgXG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09IG1vZGFsKSB7XG4gICAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIH0gZWxzZSBpZihldmVudC50YXJnZXQgPT0gY2F0TW9kYWwpIHtcbiAgICAgICAgICBjYXRNb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIH1cbiAgfVxuICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihldmVudCkgeyAvLyBFbnRlciBhY3RzIGFzIGEgY2xpY2tcbiAgICAgIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IFxuICAgICAgICAgIG9rVGFza0J0bi5jbGljaygpOyBcbiAgICAgIH1cbiAgfSk7XG4gIFxufTtcblxuZnVuY3Rpb24gc2VsZWN0Q2F0RmlsdGVyKHNlbGVjdGVkQ2F0ZWdvcnkpe1xuICAgIC8vIFJlbW92ZSAnc2VsZWN0ZWRGaWx0ZXInIGNsYXNzIGZyb20gYWxsIGNhdGVnb3J5IGJ1dHRvbnNcbiAgICBjYXRlZ29yeUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZEZpbHRlcicpO1xuICAgIH0pO1xuXG4gICAgLy8gR2V0IGFuZCBhZGQgJ3NlbGVjdGVkRmlsdGVyJyBjbGFzcyB0byB0aGUgY2xpY2tlZCBidXR0b25cbiAgICBzZWxlY3RlZENhdGVnb3J5QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VsZWN0ZWRDYXRlZ29yeSk7XG4gICAgc2VsZWN0ZWRDYXRlZ29yeUJ0bi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZEZpbHRlcicpO1xuXG4gICAgLy8gVXBkYXRlIFBhZ2VcbiAgICB1cGRhdGVQYWdlVGl0bGUoc2VsZWN0ZWRDYXRlZ29yeUJ0bik7XG4gICAgdXBkYXRlUGFnZVRhc2tzKHNlbGVjdGVkVGltZWxpbmUsIHNlbGVjdGVkQ2F0ZWdvcnkpO1xuICAgIHJldHVybiBzZWxlY3RlZENhdGVnb3J5QnRuO1xufVxuXG5mdW5jdGlvbiBzZWxlY3RUaW1lRmlsdGVyKHNlbGVjdGVkVGltZWxpbmUsIHNlbGVjdGVkVGltZWxpbmVCdG4pe1xuICAgIGNvbnNvbGUubG9nKHNlbGVjdGVkVGltZWxpbmVCdG4pO1xuICAgIC8vIFJlbW92ZSAnc2VsZWN0ZWRGaWx0ZXInIGNsYXNzIGZyb20gYWxsIHRpbWVsaW5lIGJ1dHRvbnNcbiAgICB0aW1lbGluZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZEZpbHRlcicpO1xuICAgIH0pO1xuXG4gICAgLy8gVXBkYXRlIFBhZ2VcbiAgICB1cGRhdGVQYWdlVGl0bGUoc2VsZWN0ZWRDYXRlZ29yeUJ0bik7XG4gICAgdXBkYXRlUGFnZVRhc2tzKHNlbGVjdGVkVGltZWxpbmUsIHNlbGVjdGVkQ2F0ZWdvcnkpO1xuICAgIFxuICAgIHNlbGVjdGVkVGltZWxpbmVCdG4uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWRGaWx0ZXInKTtcbiAgICByZXR1cm4gc2VsZWN0ZWRUaW1lbGluZUJ0bjtcbn1cblxuc29ydEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIGlmKHNvcnRPcHRpb25zLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJyl7XG4gICAgc29ydE9wdGlvbnMuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICBzb3J0QnRuLnN0eWxlLmJvcmRlclJhZGl1cyA9ICc1cHggNXB4IDBweCAwcHgnO1xuXG4gICAgfWVsc2Uge1xuICAgICAgICBzb3J0T3B0aW9ucy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyBcbiAgICAgICAgc29ydEJ0bi5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnJztcbiAgICB9XG59KTtcblxuZGF0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIHNvcnQoJ2RhdGUnKTtcbn0pO1xuXG5pbXBvcnRhbmNlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgc29ydCgncHJpb3JpdHknKTtcbn0pO1xuIiwiaW1wb3J0IHtjYXRlZ29yeUJ1dHRvbnN9IGZyb20gJy4vZG9tRWxlbWVudHMnO1xuaW1wb3J0IHsgdGFza0NvdW50ZXIgfSBmcm9tICcuL3Rhc2tGdW5jdGlvbnMnO1xuXG5leHBvcnQgY2xhc3MgQ2F0ZWdvcnkge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGNvbG9yLCBjYXRJZCA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xuICAgICAgICB0aGlzLnRhc2tzID0gW107XG4gICAgICAgIHRoaXMuY2F0SWQgPSBjYXRJZCB8fCArK2xhc3RDYXRJZDtcbiAgICB9XG4gICAgYWRkVGFza1RvQ2F0KHRhc2spIHtcbiAgICAgICAgdGhpcy50YXNrcy5wdXNoKHRhc2spO1xuICAgICAgICAvLyBTZXQgdGhlIHRhc2sncyBJRCB0byBtYXRjaCB0aGUgY29ycmVjdCBjb3VudGVyIHZhbHVlXG4gICAgICAgIHRhc2suaWQgPSB0YXNrQ291bnRlcjtcbiAgICAgICAgdGFza0NvdW50ZXIrKztcbiAgICB9XG4gICAgcmVtb3ZlVGFza0Zyb21DYXQodGFza0lkKSB7XG4gICAgICAgIHRoaXMudGFza3MgPSB0aGlzLnRhc2tzLmZpbHRlcih0YXNrID0+IHRhc2suaWQgIT09IHRhc2tJZCk7XG4gICAgfVxufVxuXG5sZXQgbGFzdENhdElkID0gTWF0aC5tYXgoLi4uQXJyYXkuZnJvbShjYXRlZ29yeUJ1dHRvbnMpLm1hcChidG4gPT4gcGFyc2VJbnQoYnRuLmRhdGFzZXQuY2F0SWQpKSk7XG5sZXQgZGVmYXVsdENhdGVnb3JpZXMgPSBpbml0aWFsaXplRGVmYXVsdENhdGVnb3JpZXMoKTtcbmxldCBjYXRlZ29yaWVzID0gWy4uLmRlZmF1bHRDYXRlZ29yaWVzXTsgXG5cbi8vQ2hlY2tzIGlmIHdlIGFyZSBlZGRpdGluZyBvciBjcmVhdGluZyBhIG5ldyBjYXQgIFxubGV0IGN1cnJlbnRNb2RlID0gbnVsbDtcbmxldCBjYXRJRDtcblxuZnVuY3Rpb24gaW5pdGlhbGl6ZURlZmF1bHRDYXRlZ29yaWVzKCkge1xuICAgIGNvbnN0IGNhdGVnb3J5QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXRlZ29yaWVzRGl2IGJ1dHRvbicpO1xuICAgIGxldCBjYXRlZ29yaWVzID0gQXJyYXkuZnJvbShjYXRlZ29yeUJ1dHRvbnMpLm1hcChidXR0b24gPT4ge1xuICAgICAgICBsZXQgY2F0SWQgPSBwYXJzZUludChidXR0b24uZGF0YXNldC5jYXRJZCk7IFxuICAgICAgICBpZiAoY2F0SWQgPiBsYXN0Q2F0SWQpIGxhc3RDYXRJZCA9IGNhdElkO1xuICAgICAgICByZXR1cm4gbmV3IENhdGVnb3J5KGJ1dHRvbi50ZXh0Q29udGVudC50cmltKCksIG51bGwsIGNhdElkKTsgLy8gUGFzc2luZyBjYXRJZCB0byB0aGUgY29uc3RydWN0b3JcbiAgICB9KTtcblxuICAgIHJldHVybiBjYXRlZ29yaWVzO1xufSBcblxuZXhwb3J0IHtjYXRlZ29yaWVzLCBjYXRJRCwgY3VycmVudE1vZGV9OyIsImltcG9ydCB7IGNhdGVnb3JpZXMgfSBmcm9tICcuL2NhdGVnb3J5RnVuY3Rpb25zJztcblxubGV0IHRhc2tDb3VudGVyID0gMDtcblxuZXhwb3J0IGNsYXNzIFRhc2sge1xuICAgIGNvbnN0cnVjdG9yKGlkLCB0aXRsZSwgY2F0ZWdvcnlPYmplY3QsIGR1ZURhdGUsIHByaW9yaXR5LCBkZXNjcmlwdGlvbikge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5jYXRlZ29yeSA9IGNhdGVnb3J5T2JqZWN0XG4gICAgICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XG4gICAgICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLmNvbXBsZXRlID0gZmFsc2U7IFxuICAgIH1cbiAgICB0b2dnbGVDb21wbGV0ZSgpIHtcbiAgICAgICAgdGhpcy5jb21wbGV0ZSA9ICF0aGlzLmNvbXBsZXRlO1xuICAgIH1cbn1cblxuZXhwb3J0IHt0YXNrQ291bnRlcn07XG5cblxuIiwiaW1wb3J0IHtUYXNrfSBmcm9tJy4vdGFza0Z1bmN0aW9ucyc7XG5pbXBvcnQge0NhdGVnb3J5fSBmcm9tJy4vY2F0ZWdvcnlGdW5jdGlvbnMnO1xuaW1wb3J0IHt0YXNrRXZMaXN0ZW5lcnMsIHNldERlZmF1bHRGaWx0ZXJzLCB0aW1lRmlsdGVyRXZMaXN0ZW5lcnMsIGNhdEZpbHRlckV2TGlzdGVuZXJzLGNhdEV2TGlzdGVuZXJzLCBkaXNwbGF5U2V0dGluZ3N9IGZyb20gJy4vZG9tRWxlbWVudHMnO1xuaW1wb3J0IHtjb250ZW50LCBuYXYsbW9kYWwsc3BhbixjYXRNb2RhbCxzcGFuQ2F0TW9kYWwsdGFza3NDb250YWluZXIsZm9ybSxwYWdlVGl0bGUsY29sbGFwc2VCdG4sY3JlYXRlVGFza0J0bixva1Rhc2tCdG4sY2FuY2VsVGFza0J0bixkZWxldGVCdG5Nb2RhbCxuZXdDYXRCdG4sb2tDYXRCdG4sY2FuY2VsQ2F0QnRuLGluYm94QnRuLHJlc3BvbnNpYmlsaXRpZXNCdG4sZXZlbnRzQnRuLHByb2dyYW1taW5nQnRuLHRpdGxlSW5wdXQsY2F0ZWdvcnlTZWxlY3QsZHVlRGF0ZVNlbGVjdCxwcmlvcml0eVNlbGVjdCxkZXNjcmlwdGlvbklucHV0LGNhdGVnb3J5QnV0dG9ucyxhbGxCdG4sIHRvZGF5QnRuLCB0aGlzV2Vla0J0biwgdGhpc01vbnRoQnRuLCBwYWdlVGltZWxpbmUsIGNvbG9yUGlja2VyLCBjb2xvckRpc3BsYXl9IGZyb20gJy4vZG9tRWxlbWVudHMnO1xuXG50YXNrRXZMaXN0ZW5lcnMoKTtcbmNhdEV2TGlzdGVuZXJzKCk7XG5zZXREZWZhdWx0RmlsdGVycygpO1xudGltZUZpbHRlckV2TGlzdGVuZXJzKCk7XG5jYXRGaWx0ZXJFdkxpc3RlbmVycygpO1xuZGlzcGxheVNldHRpbmdzKCk7XG5cbiJdLCJuYW1lcyI6WyJpc0RhcmtDb2xvciIsImNvbG9yIiwicmdiIiwic3RhcnRzV2l0aCIsInIiLCJwYXJzZUludCIsInNsaWNlIiwiZyIsImIiLCJ2YWx1ZXMiLCJzdWJzdHJpbmciLCJsZW5ndGgiLCJzcGxpdCIsImJyaWdodG5lc3MiLCJNYXRoIiwicm91bmQiLCJjb25zb2xlIiwibG9nIiwiZm9ybWF0RGF0ZUZvcklucHV0IiwiZGF0ZVN0cmluZyIsImRhdGUiLCJEYXRlIiwib2Zmc2V0IiwiZ2V0VGltZXpvbmVPZmZzZXQiLCJzZXRNaW51dGVzIiwiZ2V0TWludXRlcyIsIlN0cmluZyIsImdldE1vbnRoIiwicGFkU3RhcnQiLCJnZXREYXRlIiwiZ2V0RnVsbFllYXIiLCJ1cGRhdGVQYWdlVGl0bGUiLCJzZWxlY3RlZENhdGVnb3J5QnRuIiwicGFnZVRpdGxlIiwidGV4dENvbnRlbnQiLCJzZWxlY3RlZENhdEJ0biIsIndpbmRvdyIsImdldENvbXB1dGVkU3R5bGUiLCJiZ0NvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwiZm9udENvbG9yIiwic3R5bGUiLCJkYXRhc2V0IiwiY2F0SWQiLCJ1cGRhdGVQYWdlVGFza3MiLCJzZWxlY3RlZFRpbWVsaW5lIiwic2VsZWN0ZWRDYXRlZ29yeSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJ0YXNrQ29udGFpbmVyRGl2IiwidGFzayIsInRhc2tJZCIsImNhdGVnb3J5IiwiY2F0ZWdvcmllcyIsInRhc2tzIiwiZmluZCIsImlkIiwiZ2V0VGFza0J5SWQiLCJxdWVyeVNlbGVjdG9yIiwidGFza0R1ZURhdGUiLCJkdWVEYXRlIiwic2V0SG91cnMiLCJ0YXNrQ2F0ZWdvcnkiLCJuYW1lIiwiZGlzcGxheSIsInNvcnQiLCJzb3J0T3B0aW9uIiwidGFza0RpdkFycmF5IiwiZ2V0UHJpb3JpdHlWYWx1ZSIsInRhc2tQcmlvcml0eVNyYyIsInRhc2tEaXYiLCJpbm5lckhUTUwiLCJ0YXNrUHJpb3JpdHkiLCJ0YXNrRGF0YSIsImdldFRhc2tEYXRhIiwicHVzaCIsImEiLCJwcmlvcml0eUltZ0EiLCJwcmlvcml0eUltZ0IiLCJwcmlvcml0eVNvdXJjZUEiLCJnZXRBdHRyaWJ1dGUiLCJwcmlvcml0eVNvdXJjZUIiLCJwcmlvcml0eVZhbHVlQSIsInByaW9yaXR5VmFsdWVCIiwiY29udGVudCIsIm5hdiIsIm1vZGFsIiwiY2F0TW9kYWwiLCJ0YXNrc0NvbnRhaW5lciIsImNvbGxhcHNlQnRuIiwiZ2V0RWxlbWVudEJ5SWQiLCJzb3J0T3B0aW9ucyIsInNvcnRCdG4iLCJkYXRlQnRuIiwiaW1wb3J0YW5jZUJ0biIsImNyZWF0ZVRhc2tCdG4iLCJva1Rhc2tCdG4iLCJjYW5jZWxUYXNrQnRuIiwiZGVsZXRlQnRuTW9kYWwiLCJuZXdDYXRCdG4iLCJva0NhdEJ0biIsImNhbmNlbENhdEJ0biIsImNvbG9yUGlja2VyIiwiY29sb3JEaXNwbGF5IiwiYWxsQnRuIiwidG9kYXlCdG4iLCJ0aGlzV2Vla0J0biIsInRoaXNNb250aEJ0biIsInBhZ2VUaW1lbGluZSIsInNwYW4iLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwic3BhbkNhdE1vZGFsIiwidGl0bGVJbnB1dCIsImNhdGVnb3J5U2VsZWN0IiwiZHVlRGF0ZVNlbGVjdCIsInByaW9yaXR5U2VsZWN0IiwiZGVzY3JpcHRpb25JbnB1dCIsImNhdGVnb3J5QnV0dG9ucyIsInRpbWVsaW5lQnV0dG9ucyIsInNlbGVjdGVkVGltZWxpbmVCdG4iLCJ0b2RheSIsImdldEN1cnJlbnREYXRlIiwic2VsZWN0Q2F0RmlsdGVyIiwiYnV0dG9uIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwic2VsZWN0VGltZUZpbHRlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJib3JkZXJSYWRpdXMiLCJDYXRlZ29yeSIsImNvbnN0cnVjdG9yIiwidGhpcyIsImxhc3RDYXRJZCIsImFkZFRhc2tUb0NhdCIsInRhc2tDb3VudGVyIiwicmVtb3ZlVGFza0Zyb21DYXQiLCJmaWx0ZXIiLCJjYXRJRCIsIm1heCIsIkFycmF5IiwiZnJvbSIsIm1hcCIsImJ0biIsImRlZmF1bHRDYXRlZ29yaWVzIiwidHJpbSIsImluaXRpYWxpemVEZWZhdWx0Q2F0ZWdvcmllcyIsImN1cnJlbnRNb2RlIiwiVGFzayIsInRpdGxlIiwiY2F0ZWdvcnlPYmplY3QiLCJwcmlvcml0eSIsImRlc2NyaXB0aW9uIiwiY29tcGxldGUiLCJ0b2dnbGVDb21wbGV0ZSIsImRlbGV0ZVRhc2siLCJjb25maXJtIiwiZWRpdGluZ1Rhc2tJZCIsInRhc2tPYmplY3QiLCJlcnJvciIsInJlZHVjZSIsImNvdW50IiwicGFyZW50Tm9kZSIsInZhbHVlIiwiZGQiLCJtbSIsInl5eXkiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwicmVwb3J0VmFsaWRpdHkiLCJjYXRlZ29yeVZhbHVlIiwiaW1wb3J0YW5jZSIsInVuZGVmaW5lZCIsInNyYyIsImVkaXRUYXNrIiwibmV3VGFzayIsImNyZWF0ZUVsZW1lbnQiLCJvcGVuVGFza01vZGFsRm9yRWRpdGluZyIsInRhc2tCaWdEaXYiLCJ0YXNrUHJpbSIsImFwcGVuZENoaWxkIiwiY2hlY2tib3giLCJ0eXBlIiwic3RvcFByb3BhZ2F0aW9uIiwiY2hlY2tlZCIsInRhc2tUaXRsZSIsInRhc2tTZWMiLCJ0YXNrUHJpb3JpdHlJbWciLCJkZWxldGVCdG5CaWdEaXYiLCJsaW5lYnJlYWsiLCJhZGRUYXNrRGl2IiwiYWRkVGFzayIsInRhc2tFdkxpc3RlbmVycyIsImNhdFRpdGxlIiwiY2F0Q29sb3IiLCJuZXdDYXRlZ29yeSIsIm5ld0NhdGVnb3J5RWxlbWVudCIsIm5ld0J1dHRvbiIsImlubmVyVGV4dCIsImluaXRpYWxpemVDYXRGaWx0ZXJFdkxpc3RlbmVycyIsImVkaXRpbmdDYXRlZ29yeSIsImNhdCIsImFzc29jaWF0ZWRCdXR0b24iLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJvcHRpb24iLCJ1cGRhdGVDYXRlZ29yeURyb3Bkb3duIiwib3BlbkNhdE1vZGFsRm9yRWRpdGluZyIsImhleENvbG9yIiwibWF0Y2giLCJ0b1N0cmluZyIsInJnYlRvSGV4IiwiY2xpY2siLCJiYWNrZ3JvdW5kIiwib25lV2Vla0xhdGVyIiwic2V0RGF0ZSIsIm9uZU1vbnRoTGF0ZXIiLCJjYXRCdG4iLCJuYXZEaXNwbGF5U3R5bGUiLCJpbm5lcldpZHRoIiwiekluZGV4IiwiZ3JpZENvbHVtbiIsIm9uY2xpY2siLCJ0YXJnZXQiLCJrZXkiXSwic291cmNlUm9vdCI6IiJ9